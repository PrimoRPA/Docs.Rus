# Управление шаблонами моделей

Шаблон модели — это заранее предобученная модель нейронной сети, готовая извлекать определенные свойства из изображений. Шаблон модели также называют *базовой моделью*, без которой пользователь **не сможет**:
* обучить собственную модель для обработки OCR-запросов;
* настроить и запустить большую языковую модель для обработки NLP-запросов.

Пользователь выбирает ту или иную базовую модель, когда выполняет настройки в проекте Умного OCR или NLP.

Администратор управляет шаблонами моделей на странице **Настройки > Шаблоны моделей**. Здесь он имеет право добавлять шаблоны моделей, скачивать файлы загруженных шаблонов, удалять неиспользуемые шаблоны, изменять названия и описание текущих шаблонов моделей. 


![](<../../../primo-ai/resources/admin/model-templates-actions.png>)

## Шаблон по умолчанию
Система поставляется с предустановленными шаблонами модели для компонентов Умный OCR и AI Текст. Используйте шаблон из поставки, если у вас нет потребности добавлять свой файл. При использовании шаблона из поставки не потребуется совершать никаких дополнительных настроек на странице **Настройки ➝ Шаблоны моделей**. 

В поставку AI Server входят:
* `Базовая модель компонента "Умный OCR"` — универсальный шаблон модели, который подходит для обучения моделей-классификаторов и для моделей, занимающихся распознаванием данных в документах.
* `llama3.1-8B-GGUF (Llama)` — базовая LLM-модель, которая разработана компанией Meta и работает на движке Llama. Позволяет запускать большую языковую модель на низкотребовательной целевой машине с CPU. Не поддерживается для GPU.
* `llama3.1-8B (Vllm)` — базовая LLM-модель, которая разработана компанией Meta и работает на движке Vllm. Этот тип базовой модели обрабатывает запросы быстрее и точнее, но более требователен к аппаратным характеристикам целевой машины.
* `qwen2.5-7B (Vllm)` — базовая LLM-модель, которая разработана компанией Qwen и работает на движке Vllm.  Этот тип базовой модели более требователен к аппаратным характеристикам целевой машины.


## Управление 

### Добавить шаблон модели

1. Перейдите в раздел **Настройки ➝ Шаблоны моделей**. 
1. Нажмите кнопку **Добавить шаблон модели**.
1. В поле **Название** укажите название будущего шаблона модели. 
1. В поле **Описание** добавьте краткую информацию о назначении шаблона.
1. В поле **Тип проекта** выберите значение из списка:
   * `Умный OCR` — проект, который предназначен для обработки сканов документов с помощью сверточных нейросетей.
   * `Задачи NLP` — проект для решения задач обработки естественного языка с помощью больших языковых моделей.
1. Если вы выбрали тип проекта `Задачи NLP`, дополнительно укажите:
   * **Тип** — разновиность компонента. Доступные значения:
     * `NLP` — для решения NLP-задач.
     * `Экспертная система` — в настоящий момент не реализовано.
   * **Движок** — тип движка, на котором должна работать базовая модель. Доступные значения:
     * `Vllm` — для вычислений на графической карте или высокопроизводительном CPU.
     * `Llama` — для вычислений на CPU. В настоящий момент не поддерживается для GPU.
1. Перетащите в область для загрузки свой ZIP-архив с файлом шаблона модели. Файл(-ы) требуется упаковать в архив самостоятельно:
   * для проекта типа `Умный OCR` архив должен содержать только один *.pkl-файл;
   * для проекта типа `Задачи NLP` архив должен содержать...
1. Нажмите **Сохранить**.

### Скачать шаблон модели

1. Перейдите в раздел **Настройки ➝ Шаблоны моделей**.
1. В таблице шаблонов моделей найдите нужную запись и нажмите значок ☰ для вызова меню действий.
1. Выберите пункт **Скачать**.
1. Дождитесь окончания скачивания ZIP-архива с файлом шаблона.

### Редактировать шаблон модели

1. Перейдите в раздел **Настройки ➝ Шаблоны моделей**.
2. В таблице шаблонов моделей найдите нужную запись и нажмите значок ☰ для вызова меню действий.
3. Выберите пункт **Редактировать**.
4. Для изменения будут доступны только параметры:
   * *название;*
   * *описание.*
6. Нажмите **Сохранить**.

### Удалить шаблон модели

{% hint style="warning" %}
**Важно**. Не удаляйте Базовую модель, чтобы не нарушать работу системы.
{% endhint %}


1. Перейдите в раздел **Настройки ➝ Шаблоны моделей**.
2. В таблице шаблонов моделей найдите нужную запись и нажмите значок ☰ для вызова меню действий.
3. Выберите пункт **Удалить**.
4. Подтвердите действие.

