# Работа с многостраничным документом

Входные данные, которые поступают модели на этапе обучения или инференса, ограничены количественно — модель обрабатывает не более 1-го изображения.

В ситуации, когда входные данные представляют собой многостраничный документ, используется подход, когда сначала этот документ разбивается на отдельные страницы...



Нет гарантии, что в многостраничном документе будут изображения только одного типа документа.

Но модель работает только с одним типом документа за раз. Поэтому при обработке многостраничного документа может случиться ситуация, что одну страницу модель обработала успешно, приступила ко второй странице - а там другой документ, и тут произойдет сбой, потому что она не училась на паспорте. То есть проблема классификации может возникнуть.

Чтобы избежать этого, решили, что на вход будет подаваться только по одной странице. И мы будем сразу знать, что тип этого документа будет соответствовать тому, что модель умеет распознавать. 

Поэтому алгоритм следующий:
1. Сначала внешняя система или робот разбивает многостраничный документ.
2. Последовательно отдает каждую страницу этого документа в классификатор, чтобы определить тип документа.
3. После - отдает в модели на распознавание. И тут уже не важно, первая это страница или вторая, не важно. Она успешно все обработает.
4. Выдача не объединяется: модель выдаст разные JSON. Обрабатываются они на стороне клиента - как склеить данные из этих страниц, определить их последовательность.
