# Управление шаблоном обучения

Пользователь может создать шаблон обучения, просмотреть, редактировать и удалить. Управление шаблоном осуществляется на странице **Обучение > Шаблоны обучения**.

![](<../../../../.gitbook/assets1/primo-ai//user-guide/training-model-page.png>)


## Создать шаблон процесса обучения

:large_blue_diamond:***Примечание**. Роль пользователя должна иметь право «Шаблоны процесса обучения — Создание».*

Нажмите кнопку **Добавить шаблон обучения** — откроется форма конфигурации шаблона:

![](<../../../../.gitbook/assets1/primo-ai/user-guide/training-temp-form-part1.png>)
   
Укажите следующие параметры:
1. **Название\*** — произвольное название шаблона. Должно состоять только из букв и цифр, дефиса, подчеркивания и точки.
1. **Тип\*** — выберите тип модели из выпадающего списка. Тип модели указывает на цель ее применения — например, тип `passport` предназначен для модели, распознающей данные в паспорте. Если подходящего значения нет, обратитесь к пользователю с административными правами, чтобы он добавил нужный тип модели в систему.
1. **Шаблон модели\*** — предобученная модель. По умолчанию доступна только `Базовая модель`, если администратор не добавил иное. Базовая модель универсальна.
1. **Скрипт** — параметр не используется, реализован для будущих версий.
1. **Описание** — краткое описание шаблона, которое позволит идентифицировать его среди других шаблонов проекта.
1. **Допустимые расширения файлов** — изображения каких форматов допустимо использовать в датасете для обучения модели. По умолчанию выбраны все возможные форматы.
1. **Искусственно расширить датасет** — определите, следует ли расширять датасет с помощью модификации входящих в него изображений. Например, за счет поворотов на 90/180/270 градусов, изменения экспозиции случайным образом и добавления шума. Возможные значения параметра:
   * `повороты + экспозиция + шум` — значение по умолчанию, позволяет повысить качество обучения модели.
   * `экспозиция + шум` — применить только изменение экспозиции и добавление шума.
   * `нет` — не применять модификацию изображений. Установка этого значения повысит скорость обучения, но может снизить его качество.
1. **Кол-во процессов для загрузки датасета** — количество процессов для загрузки данных в модель. Значение не должно превышать количество физических ядер CPU в целевой машине. По умолчанию установлено `8`.
    * *Если целевая машина обладает [высокопроизводительными характеристиками](https://github.com/PrimoRPA/Docs.Rus/blob/1299-%D0%BD%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D1%82%D1%8C-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82-%D0%BF%D0%BE-primoai/primo-ai/installing/systemreq.md#%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BA-%D1%86%D0%B5%D0%BB%D0%B5%D0%B2%D0%BE%D0%B9-%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%D0%B5), вы можете увеличить это значение.*
    * *Не рекомендуется устанавливать значение ниже 4-х, так как это замедлит обучение.*
1. **Кол-во картинок используемых в расчетах на одной итерации** — количество изображений, которые загружаются в модель в одной итерации (*batch size*). По умолчанию `2`. Если вы хотите изменить значение, учтите следующее:
    * *Увеличение количества изображений в итерации помогает ускорить обучение, но требует больше памяти. Если на целевой машине используется GPU, и вы столкнулись с ошибкой `out of memory`, то следует уменьшить значение в данном параметре.* 
1. **Кол-во итераций в расчетах** — количество итераций в процессе обучения. Значение определяет, сколько раз требуется отправить изображение модели. По умолчанию `1000`. 
   * *Более высокое значение (3-5 тыс.) повышает точность предсказаний, но требует более производительных характеристик целевой машины и удлиняет процесс обучения. Не рекомендуется устанавливать значение выше `5000`, чтобы избежать ситуации, когда модель переобучилась.*
1. **Начальный коэф обучения (меняется по правилам определенным в scheduler)** — по умолчанию `0,005`. Начальный коэффициент (*learning rate*) определяет размер шага, с которым модель обновляет веса в процессе обучения. Параметр влияет на то, насколько быстро или медленно модель сходится к оптимальным весам, а также на результат обучения.  
   * *Если выбрать слишком маленький начальный коэффициент (например, `0,0005`), то процесс обучения значительно затянется.* 
   * *Если выбрать слишком большой начальный коэффициент (например, `0,01`), то скорость обучения повысится, но модель может "перепрыгнуть" оптимальные значения весов и, в худшем случае, не сойдется к правильному решению.* 
1. **Время обновления файла (сек)** — по умолчанию `60`. Не рекомендуется изменять это значение. 
1. **Device** — определяет, какой компонент целевой машины требуется использовать для процесса обучения. Возможные значения:
   * `CUDA` — если на целевой машине нет CUDA, то автоматически будет использоваться CPU. Архитектура CUDA позволяет использовать графический процессор (GPU) от NVIDIA для повышения производительности параллельных вычислений. CUDA представляет собой набор инструментов и библиотек для работы с графическим процессором. 
   * `CPU` — центральный процессор, выполняющий основные операции и управляющий работой компьютера.

В завершение нажмите **Сохранить**.


## Просмотр шаблонов обучения
:large_blue_diamond:***Примечание**. Роль пользователя должна иметь право «Шаблоны процесса обучения — Просмотр».*

Все имеющиеся шаблоны обучения отображаются в табличной части страницы **Обучение > Шаблоны обучения**.

![](<../../../../.gitbook/assets1/primo-ai/user-guide/view-training-templates.png>)

Таблица имеет следующие поля:
1. **Наименование** — название шаблона обучения, которое задал пользователь.
1. **Тип** — тип модели, который выбрал пользователь для процесса обучения.
1. **Шаблон модели** — предобученная модель.
1. **Версия скрипта** — не используется, реализовано для будущих версий.
1. **Дата создания** — дата и время создания шаблона модели.
1. **Действия** — доступные действия с шаблоном обучения: редактирование, удаление, переход к процессам обучения.

![](<../../../../.gitbook/assets1/primo-ai/user-guide/actions-with-training-templ.png>)


## Перейти к процессам обучения

:large_blue_diamond:***Примечание**. Роль пользователя должна иметь право «Шаблоны процесса обучения — Просмотр».*

Для запуска обучения модели недостаточно создать шаблон — требуется еще создать в этом шаблоне процесс обучения. Чтобы перейти к целевому действию, выберите для шаблона действие **Процессы** и следуйте [инструкции](https://github.com/PrimoRPA/Docs.Rus/blob/1299-%D0%BD%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D1%82%D1%8C-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82-%D0%BF%D0%BE-primoai/primo-ai/user/projects/training/operations-with-process.md#%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D1%82%D1%8C-%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81-%D0%BE%D0%B1%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D1%8F).

![](<../../../../.gitbook/assets1/primo-ai//user-guide/go-to-training-process.gif>)


## Редактировать шаблон обучения

:large_blue_diamond:***Примечание**. Роль пользователя должна иметь право «Шаблоны процесса обучения — Просмотр, Редактирование».*

1. Перейдите на страницу **Обучение > Шаблоны обучения**.
1. В табличной части найдите нужную запись и нажмите значок ☰ для вызова меню действий.
1. Выберите действие **Редактировать**.
1. Измените свойства шаблона и выберите **Сохранить**.


## Удалить шаблон обучения

:large_blue_diamond:***Примечание**. Роль пользователя должна иметь право «Шаблоны процесса обучения — Просмотр, Удаление».*

1. Перейдите на страницу **Обучение > Шаблоны обучения**.
1. В табличной части найдите нужную запись и нажмите значок ☰ для вызова меню действий.
1. Выберите **Удалить** и подтвердите действие.

