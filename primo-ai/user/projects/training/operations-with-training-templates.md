# Управление шаблоном обучения

## Создать шаблон процесса обучения

:large_blue_diamond:***Примечание**. Роль пользователя должна иметь право «Шаблоны процесса обучения — Создание».*

1. Перейдите на страницу **Обучение > Шаблоны обучения**.

    ![](<../../../../.gitbook/assets1/primo-ai//user-guide/training-page.png>)
   
1. Нажмите кнопку **Добавить шаблон обучения** — откроется форма конфигурации шаблона.

   ![](<../../../../.gitbook/assets1/primo-ai/user-guide/training-temp-form-part1.png>)
   
1. Укажите параметры:
   * **Название\*** — произвольное название шаблона. Должно состоять только из букв и цифр, дефиса, подчеркивания и точки.
   * **Тип\*** — тип модели, указывающий на цель ее применения. Если подходящего типа нет, обратитесь к пользователю с административными правами, чтобы он добавил нужное значение в систему.
   * **Шаблон модели\*** — предобученная модель. По умолчанию доступна только `Базовая модель`, если администратор не добавил иное.
   * **Скрипт** — параметр не используется, реализован для будущих версий.
   * **Описание** — краткое описание шаблона, которое позволит идентифицировать его среди других шаблонов проекта.
   * **Допустимые расширения файлов** — изображения каких форматов допустимо использовать в датасете для обучения модели. По умолчанию выбраны все возможные форматы.
   * **Искусственно расширить датасет** — определите, следует ли расширять датасет с помощью модификации входящих в него изображений. Например, за счет поворотов на 90/180/270 градусов, изменения экспозиции случайным образом и добавления шума. Возможные значения параметра:
      * `повороты + экспозиция + шум` — рекомендованное значение, установленное по умолчанию. 
      * `экспозиция + шум` — применять только изменение экспозиции и добавление шума.
      * `нет` — не применять модификацию изображений. Установка этого значения повысит скорость обучения, но может снизить качество.
   * **Кол-во процессов для загрузки датасета** — количество процессов для загрузчика данных, значение не должно превышать количество физических ядер CPU в целевой машине. По умолчанию установлено `8`.
      * *Если целевая машина обладает [высокопроизводительными характеристиками](https://github.com/PrimoRPA/Docs.Rus/blob/1299-%D0%BD%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D1%82%D1%8C-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82-%D0%BF%D0%BE-primoai/primo-ai/installing/systemreq.md#%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BA-%D1%86%D0%B5%D0%BB%D0%B5%D0%B2%D0%BE%D0%B9-%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%D0%B5), вы можете увеличить это значение.*
      * *Не рекомендуется устанавливать значение ниже 4-х, так как это замедлит обучение.*
   * **Кол-во картинок используемых в расчетах на одной итерации** — количество изображений, которые подаются в одной итерации на обучение модели. После каждой итерации модель меняет свои коэффициенты обучения. По умолчанию `2`. 
      * КОгда 2, то есть подстраивается под узкий набор и после итерации она сильно изменит коэф-т. А если 4, то обобщающие способности будут выше. 
      * Если подавать одну картинку, то будет сильно скакать кривая обучения - график прыгающий. 
      * *Увеличение количества изображений в итерации помогает ускорить обучение, но требует больше памяти. Если вы столкнулись с ошибкой `out of memory`, то следует уменьшить значение в данном параметре.*

   * **Кол-во итераций в расчетах** — по умолчанию `1000`. 
   * **Начальный коэф обучения (меняется по правилам определенным в scheduler)** — по умолчанию `0,005`. 
   * **Время обновления файла (сек)** — по умолчанию `60`. 
   * **Device** — определяет, какой компонент целевой машины требуется использовать для процесса обучения. Возможные значения:
     * `CUDA` — значение по умолчанию. Архитектура, которая позволяет использовать графический процессор (GPU) от NVIDIA для повышения производительности параллельных вычислений. CUDA представляет собой набор инструментов и библиотек для работы с графическим процессором. 
     * `CPU` — центральный процессор, выполняющий основные операции и управляющий работой компьютера.

   


   ![](<../../../../.gitbook/assets1/primo-ai/user-guide/training-temp-form-part2.png>) 

1. В завершение нажмите **Сохранить**.


## Просмотр шаблонов обучения
:large_blue_diamond:***Примечание**. Роль пользователя должна иметь право «Шаблоны процесса обучения — Просмотр».*

Все имеющиеся шаблоны обучения отображаются в табличной части страницы **Обучение > Шаблоны обучения**.

![](<../../../../.gitbook/assets1/primo-ai/user-guide/view-training-templates.png>)

Таблица имеет следующие поля:
1. Наименование — название шаблона обучения, которое задал пользователь.
1. Тип — тип модели, который выбрал пользователь для процессов обучения.
1. Шаблон модели — предобученная модель.
1. Версия скрипта — не используется, реализовано для будущих версий.
1. Дата создания — дата и время создания шаблона модели.
1. Действия — доступные действия с шаблоном обучения: редактирование, удаление, переход к процессам обучения.

![](<../../../../.gitbook/assets1/primo-ai/user-guide/actions-with-training-templ.png>)


## Перейти к процессам обучения

:large_blue_diamond:***Примечание**. Роль пользователя должна иметь право «Шаблоны процесса обучения — Просмотр».*

Для запуска обучения модели недостаточно создать шаблон — требуется еще создать в этом шаблоне процесс обучения. Чтобы перейти к целевому действию, выберите для вашего шаблона действие **Процессы**.

В одном шаблоне должен быть только один процесс обучения.

![](<../../../../.gitbook/assets1/primo-ai/class-goto-training-proccesses.png>) 


## Редактировать шаблон обучения

:large_blue_diamond:***Примечание**. Роль пользователя должна иметь право «Шаблоны процесса обучения — Просмотр, Редактирование».*

1. Перейдите на страницу **Обучение > Шаблоны обучения**.
1. В табличной части найдите нужную запись и нажмите значок ☰ для вызова меню действий.
1. Выберите действие **Редактировать**.
1. Измените свойства шаблона и выберите **Сохранить**.


## Удалить шаблон обучения

:large_blue_diamond:***Примечание**. Роль пользователя должна иметь право «Шаблоны процесса обучения — Просмотр, Удаление».*

1. Перейдите на страницу **Обучение > Шаблоны обучения**.
1. В табличной части найдите нужную запись и нажмите значок ☰ для вызова меню действий.
1. Выберите **Удалить** и подтвердите действие.

