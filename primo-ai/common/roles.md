# Управление ролями

Управление пользователями системы осуществляет пользователь с административными правами. Управление включает в себя следующие операции:
* Создание сущности пользователя.
* Определение прав доступа пользователя.
* Изменение сущности пользователя.
* Просмотр информации о действиях пользователя.
* Удаление сущности пользователя.

Управление доступом осуществляется на основе ролей. Каждому пользователю системы должна быть назначена роль.

## Роли

Роль определяет набор прав доступа, которые администратор может присвоить пользователю. Роль содержит имя, описание и набор разрешенных действий по отношению к каждой сущности системы. Одна роль может быть назначена нескольким пользователям. Один пользователь также может иметь несколько ролей. 

Если пользователю назначены роли с разным набором прав по отношению к одной и той же сущности, то применятся те права, которые дадут пользователю больше возможностей. Например, если одна роль пользователя разрешает только просмотр проектов, а другая роль разрешает просмотр и создание проектов, то пользователь с данными ролями сможет просматривать и создавать проекты.  

Управление ролями осуществляется через веб-интерфейс в разделе **Настройки > Роли**. Администратор имеет право изменять набор прав роли, расширяя или ограничивая доступ пользователя к сущностям системы.


## Права доступа
Права доступа в роли сгруппированы по сущностям системы, тем самым определяя возможные действия пользователя с каждой сущностью. Рекомендуется назначать пользователям минимальные разрешения для того, чтобы они могли выполнять свои задачи.

В системе существуют следующие виды прав:
* **Просмотр** — позволяет пользователю просматривать определенные сущности системы и их свойства. 
* **Создание** — позволяет добавить в систему новую сущность. 
* **Редактирование** — позволяет изменять свойства уже добавленной сущности. 
* **Удаление** — позволяет удалить сущность из системы. 
* **Управление** — предоставляет пользователю полный набор прав по управлению сущностью (просмотр, создание, редактирование, удаление), а также дополнительные возможности, которые варьируются в зависимости от сущности. 
  
Если какое-то право доступа не применимо к сущности, то чекбокс с этим правом будет неактивен при настройке роли. Например, на рисунке ниже видно, что для сущности "Проекты" недоступно право "Управление" - чекбокс с данным правом неактивен. Галочку в нем поставить невозможно, это ограничение на уровне системы.

РИСУНОК


## Встроенные роли

Система имеет несколько встроенных ролей, которые можно назначить пользователям. На данный момент это роли, предназначенные для административных задач. Создать вручную роли с аналогичным набором прав невозможно, поэтому для пользователей-администраторов должны использоваться только встроенные роли. В таблице ниже приведено краткое описание этих ролей. 

| Встроенная роль       | Описание                                         |  
| --------------------- | ------------------------------------------------ |
| Administrator         | Кросстенантная административная роль. Предоставляет пользователю полные полномочия как в рамках тенанта по умолчанию, так и в любом другом тенанте. Пользователь с данной ролью имеет право управлять лицензиями и доступом пользователей всех тенантов, в том числе создавать пользователей с административными правами |
| TenantAdministrator   | Аналогично роли Administrator, но только в рамках своего тенанта. По умолчанию никто из пользователей не имеет этой роли | 

По умолчанию в систему уже добавлены пользователи со встроенной ролью Administrator. Это пользователи superadmin и admin, которые настраивают систему для использования рядовыми пользователями. 



## Встроенные пользователи

Встроенные пользователи создаются при первом запуске приложения. По своему назначению эти учетные записи можно разделить на сервисные и на административные.

Встроенные учетные записи с административными полномочиями представлены в таблице ниже.


| Логин пользователя      | Пароль            | Роль               | Описание                                         |  
| ----------------------- | ----------------- | ------------------ | ----------------------------- |
| superadmin              | Пароль предоставляется вместе с комплектом поставки         | Administrator      | Предоставляет полный набор прав для управления и настройки системы. Кросстенантный пользователь  |
| admin                   | Пароль предоставляется вместе с комплектом поставки       | Administrator      | Аналогично полномочиям superadmin, но действует в рамках тенанта по умолчанию. Не имеет прав в других тенантах |

Сервисные учетные записи обеспечивают взаимодействие между компонентами системы и не подразумевают участие человека. Встроенные сервисные пользователи представлены в таблице ниже. Данные пользователи кросстенантны.


| Логин пользователя      | Пароль            | Роль               | Описание                                                           |  
| ----------------------- | ----------------- | ------------------ | ------------------------------------------------------------------ |
| agent                   | Пароль предоставляется вместе с комплектом поставки       | Agent              | Для взаимодействия Primo.AI.Api.Agent с другими сервисами Primo.AI |
| api                     | Пароль предоставляется вместе с комплектом поставки        | Api                | Для взаимодействия Primo.AI.Api с другими сервисами Primo.AI       |
| auth                    | Пароль предоставляется вместе с комплектом поставки        | Auth               | Для взаимодействия Primo.AI.Api.Auth с другими сервисами Primo.AI  |
| inference               | Пароль предоставляется вместе с комплектом поставки        | Inference          | Для взаимодействия Primo.AI.Api.Inference с другими сервисами Primo.AI |
| logs                    | Пароль предоставляется вместе с комплектом поставки       | Logs               | Для взаимодействия Primo.AI.Api.Logs с другими сервисами Primo.AI |


