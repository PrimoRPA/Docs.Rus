# Архитектура

Система построена на клиент-серверной архитектуре. Компоненты системы перечислены ниже.

1. **Сервер баз данных и хранилищ данных:**
   * PostgreSQL или MS SQL — служит для управления основными реляционными базами данных, хранящими настройки веб-приложения Primo AI, данные о пользователях, ролях, лицензиях, событиях и др.
   * Redis — управляет базами данных класса NoSQL. Данные БД используются для временного хранения токенов авторизации и результатов инференсов. Опциональный компонент.
   * Minio — объектное хранилище изображений, применяемых в обучении моделей нейронной сети и в процессе распознавания данных на документах. Опциональный компонент.
2. **Веб-клиент:**
   * Primo.AI.UI - пользовательский интерфейс веб-приложения Primo AI.
3. **Промежуточное ПО:**
   * Nginx — веб-сервер для отдачи статического контента в UI (через браузер) и реверс-прокси для Primo.AI.Api и его компонентов.
   * RabbitMQ — брокер сообщений, служит для обмена событиями между компонентами Primo.AI.Api.
4. **REST API:**
   * Primo.AI.Api — служит для взаимодействия клиентской и серверной части веб-приложения Primo AI, включая взаимодействие с агентом на целевой машине с IDP.
   * Primo.AI.Api.Auth — 
   * Primo.AI.Api.Logs — служит для приема событий от компонентов Primo.AI.Api и от агентов, для хранения событий и передачи данных о событиях через UI.
   * Primo.AI.Api.MachineInfo — служит для определения параметров машин для лицензий.
   * Primo.AI.Api.Inference — служит для обеспечения запросов на инференс: запуск, хранение данных и для передачи результатов клиенту.
   * Primo.AI.Api.Agent — служит для взаимодействия веб-приложения Primo AI с компонентом IDP, отвечающим за интеллектуальную обработку документов. Компонент представляет собой REST API, который устанавливается на машине с IDP и позволяет управлять процессами обучения модели и инференсами. Также взаимодействует с Primo.AI.Logs. Устанавливается на отдельной машине с Primo.AI.IDP.
5. **ПО целевой машины:**
   * Primo.AI.IDP — data science-ядро с нейронными сетями и OCR. Предназначено для интеллектуальной обработки документов.

