# Работа с диаграммой

Создать диаграмму можно несколькими способами:&#x20;

1\) можно выбрать тип Диаграмма при создании Процесса

![](<../../.gitbook/assets/image (303).png>)

2\) или добавить элемент Диаграмма <img src="../../.gitbook/assets/image (288).png" alt="" data-size="line">  в последовательность или в диаграмму

Диаграмма может включать в себя следующие элементы:

* Начало диаграммы
* Последовательность
* Принятие решения
* Диаграмма
* Состояние&#x20;

Они находятся в группе Диаграмма панели элементов.&#x20;

Также, диаграмма может включать в себя любые другие элементы. При переносе их в диаграмму, они будут автоматически обернуты в элемент Последовательность.

Элемент Начало диаграммы присутствует всегда и обозначается символом зеленого круга

![](<../../.gitbook/assets/001 (17).png>)

Элемент Последовательность представляет собой прямоугольник, заключающий в себе стандартную последовательность. Для перехода к хранимой последовательности нужно совершить двойной клик на элементе Последовательность

![](<../../.gitbook/assets/image (286).png>)

Для возвращения к диаграмме нужно нажать на кнопку Назад в левом верхнем углу диаграммы

![](<../../.gitbook/assets/3 (1).png>)

Для добавления последовательности, необходимо перетащить ее из панели Элементы

![](../../.gitbook/assets/WFWorkflowContainerSequence.png)

Элемент принятие решения представляет собой синий ромб и служит для разветвления выполнения процесса (аналогично конструкции Switch классических языков программирования). Для создания условия необходимо указать вычисляемое выражение в свойстве Выражения панели свойств элемента.

![](<../../.gitbook/assets/image (242).png>)

Для добавления принятия решения, необходимо перетащить его из панели Элементы

![](../../.gitbook/assets/WFWorkflowDecision.png)

Элемент Диаграмма представляет собой прямоугольник, заключающий в себе другую диаграмму.&#x20;

![](<../../.gitbook/assets/image (287).png>)

Для добавления диаграммы, необходимо перетащить его из панели Элементы <img src="../../.gitbook/assets/image (293).png" alt="" data-size="line">&#x20;

Элемент Состояние представляет собой прямоугольник, заключающий в себе состояния процесса, между которыми можно выставить переходы.

![](<../../.gitbook/assets/image (206).png>)

Для добавления состояния, необходимо перетащить его из панели Элементы <img src="../../.gitbook/assets/image (299).png" alt="" data-size="line">&#x20;

**Состояния**

![](<../../.gitbook/assets/image (203).png>)

Состояние работает по следующему алгоритму:

1. Выполняется последовательность "Исполняемый алгоритм"
2. Выполняются Триггеры каждого Перехода
3. Проверяются Условия
4. Осуществляется переход по первому корректному Условию

**Работа с диаграммой**

Для настройки диаграммы используется панель действий диаграммы

![](<../../.gitbook/assets/image (241).png>)

Для создания связей между элементами необходимо нажать кнопку Связь <img src="../../.gitbook/assets/image (309).png" alt="" data-size="line"> на панели действий диаграммы.  Далее зажать кнопку мыши на зеленом квадрате на любой грани элемента (если необходимо задать конкретную точку начала стрелки) или зажать кнопку мыши в целом на элементе (при этом элемент выделится зеленой рамкой, а расположение начала стрелки будет задано автоматически) и перетащить полученную стрелку к квадрату нужного элемента, так же к любой из граней или в целом к элементу.

![](<../../.gitbook/assets/image (262).png>)

![](<../../.gitbook/assets/image (270).png>)

Для возврата к обычному курсору и продолжения работы с другими элементами диаграммы необходимо нажать кнопку Указатель <img src="../../.gitbook/assets/image (308).png" alt="" data-size="line"> на панели действий диаграммы.

Связи диаграмм могут иметь три различных формы:

![Угловая (ANGLED)](<../../.gitbook/assets/image (698).png>)

![Прямая (STRAIGHT)](<../../.gitbook/assets/image (656).png>)

![Изогнутая (CURVED)](<../../.gitbook/assets/image (611).png>)

Форма связи выбирается в ее свойствах и становится формой по-умолчанию для новых связей.

Для ветвления процесса необходимо задать проверяемые условия. Для этого, нужно выделить стрелку, исходящую из нижнего квадрата элемента Принятие решения и в свойстве Результат проверки указать значение, соответствующее принимаемому решению. Стрелка без указанного результата будет являться решением по умолчанию.

![](<../../.gitbook/assets/001 (21).png>)

Для удобства выравнивания элементов на диаграмме предусмотрены функции: сетка и привязка к сетке.&#x20;

Для включения/выключения сетки необходимо нажать кнопку Сетка на панели действий диаграммы. При включении данной функции основная рабочая область будет разлинована для удобства выравнивания элементов.

![](<../../.gitbook/assets/image (218).png>)

Для включения/выключения привязки к сетке необходимо нажать кнопку Привязка к сетке на панели действий диаграммы. При включении данной функции перемещение элементов на основной рабочей области будет с привязкой к сетке.&#x20;

![](<../../.gitbook/assets/image (237).png>)

Также для удобства выравнивания при перемещении элементов отображаются направляющие линии, по которым можно расположить элемент относительно других.

В остальном, диаграмма в своей работе полностью соответствует последовательности.
