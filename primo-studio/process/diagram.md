# Работа с диаграммой

Создать диаграмму можно несколькими способами:&#x20;

1\) Выбрать тип **Диаграмма** при создании процесса:

![](<../../.gitbook/assets/image (660).png>)

2\) Добавить элемент **Диаграмма** <img src="../../.gitbook/assets/image (683).png" alt="" data-size="line">  в существующую последовательность или в диаграмму.

Каждая диаграмма обязательно содержит элемент **Начало диаграммы**, который обозначается символом зеленого круга:

![](<../../.gitbook/assets/001 (16).png>)

Дополнительно диаграмма может включать следующие элементы:

* Последовательность
* Принятие решения
* Диаграмма
* Состояние&#x20;

Все они находятся в группе *Диаграмма* на панели элементов.&#x20; Также в диаграмму можно перенести любые другие элементы. При переносе они автоматически будут обернуты в элемент **Последовательность**.

Элемент **Последовательность** представляет собой прямоугольник, заключающий в себе стандартную последовательность. Для добавления последовательности необходимо перетащить ее из панели элементов: ![](<../../.gitbook/assets/0 (81).png>) 

Для перехода к хранимой последовательности нужно совершить двойной клик на элементе **Последовательность**:

![](<../../.gitbook/assets/image (614).png>)

Для возвращения к диаграмме нужно нажать на кнопку **Назад** в левом верхнем углу диаграммы:

![](<../../.gitbook/assets/3 (9).png>)

Элемент **Принятие решения** представляет собой синий ромб и служит для разветвления выполнения процесса (аналогично конструкции Switch классических языков программирования). Для создания условия необходимо указать вычисляемое выражение в свойстве **Выражения** панели свойств элемента.

![](<../../.gitbook/assets/image (705).png>)

Для добавления принятия решения необходимо перетащить его из панели элементов: ![](<../../.gitbook/assets/0 (26).png>)

Элемент **Диаграмма** представляет собой прямоугольник, заключающий в себе другую диаграмму.&#x20;

![](<../../.gitbook/assets/image (725).png>)

Для добавления диаграммы необходимо перетащить ее из панели элементов <img src="../../.gitbook/assets/image (698).png" alt="" data-size="line">&#x20;

Элемент **Состояние** представляет собой прямоугольник, заключающий в себе состояния процесса, между которыми можно выставить переходы.

![](<../../.gitbook/assets/image (674).png>)

Для добавления состояния перетащите его из панели элементов <img src="../../.gitbook/assets/image (671).png" alt="" data-size="line">&#x20;

## Состояния

![](<../../.gitbook/assets/image (363).png>)

Состояние работает по следующему алгоритму:

1. Выполняется последовательность **Исполняемый алгоритм**.
2. Выполняются триггеры каждого перехода.
3. Проверяются условия.
4. Осуществляется переход по первому корректному условию.

С версии 1.1.29 можно выбрать тип перехода: по всем триггерам или по первому, вернувшему значение True (по умолчанию). Чтобы задать тип перехода, нажмите на элемент **Начало диаграммы**:

![](<../../.gitbook/assets/001 (16).png>)

И в его свойствах, в поле **Тип перехода**, выберите нужное значение: Trigger All или Trigger First True. 


## Работа с диаграммой

Для настройки диаграммы используется панель действий диаграммы:

![](<../../.gitbook/assets/image (678).png>)

Для создания связей между элементами необходимо нажать кнопку **Связь** <img src="../../.gitbook/assets/image (624).png" alt="" data-size="line"> на панели действий диаграммы. Далее зажмите кнопку мыши на зеленом квадрате на любой грани элемента (если необходимо задать конкретную точку начала стрелки) или кнопку мыши на элементе в целом (при этом элемент выделится зеленой рамкой, а расположение начала стрелки будет задано автоматически) и перетащите полученную стрелку к квадрату нужного элемента - к любой из граней или в целом к элементу.

![](<../../.gitbook/assets/image (644).png>)

![](<../../.gitbook/assets/image (724).png>)

Для возврата к обычному курсору и продолжения работы с другими элементами диаграммы необходимо нажать кнопку **Указатель** <img src="../../.gitbook/assets/image (641).png" alt="" data-size="line"> на панели действий диаграммы.

Связи диаграмм могут иметь три различных формы:

![Угловая (ANGLED)](<../../.gitbook/assets/image (765).png>)

![Прямая (STRAIGHT)](<../../.gitbook/assets/image (948).png>)

![Изогнутая (CURVED)](<../../.gitbook/assets/image (928).png>)

Форма связи выбирается в ее свойствах и становится формой по умолчанию для новых связей.

Для ветвления процесса необходимо задать проверяемые условия. Для этого нужно выделить стрелку, исходящую из нижнего квадрата элемента **Принятие решения** и в свойстве **Результат проверки** указать значение, соответствующее принимаемому решению. Стрелка без указанного результата будет являться решением по умолчанию.

![](<../../.gitbook/assets/001 (17).png>)

Для удобства выравнивания элементов на диаграмме предусмотрены функции: сетка и привязка к сетке.&#x20;

Для включения/выключения сетки необходимо нажать кнопку **Сетка** на панели действий диаграммы. При включении данной функции основная рабочая область будет разлинована для удобства выравнивания элементов.

![](<../../.gitbook/assets/image (716).png>)

Для включения/выключения привязки к сетке необходимо нажать кнопку **Привязка к сетке** на панели действий диаграммы. При включении данной функции перемещение элементов на основной рабочей области будет с привязкой к сетке.&#x20;

![](<../../.gitbook/assets/image (637).png>)

Также для удобства выравнивания при перемещении элементов отображаются направляющие линии, по которым можно расположить элемент относительно других.

В остальном диаграмма в своей работе полностью соответствует последовательности.
