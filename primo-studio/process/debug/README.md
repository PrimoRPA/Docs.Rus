# Выполнение и отладка процессов

Инструмент отладки позволяет разработчику протестировать процесс через Студию.

Перед отладкой/запуском процесса требуется указать тип используемого Робота. Для этого выберите нужное значение в параметре **Издание робота** на панели *Отладка*: например, Enterprise.

* Отладка запускается кнопкой **Отладить процесс** ![](<../../../.gitbook/assets/1 (126).png>) на панели действий главного меню. Для удобства кнопка присутствует также на вкладках *Общие* и *Отладка*. 
* Запуск выполняется кнопкой **Запустить процесс** ![](<../../../.gitbook/assets/0 (182).png>). Если выполнение нужно начать с произвольного места, выберите элемент процесса, вызовите его контекстное меню и воспользуйтесь командой **Запуск с элемента**:

<div style="text-align: center;">

![](<../../../.gitbook/assets/image (877).png>)

</div>

**Запуск** от **Отладки** отличается тем, что во время запуска не происходит остановки на точках останова (Breakpoint), если таковые имеются. Подробнее о назначении точек можно узнать ниже, в подразделе [**Точка останова**](#tochka-ostanova).
  
Перед выполнением отладки возможно задать ее настройки в разделе **Файл ➝ Настройки ➝ Общие ➝ Отладка**. Например, такие параметры, как:
* **Сворачивать Студию** - определяет, нужно ли сворачивать приложение Студии во время отладки.
* **Приостанавливать отладку на исключении** - определяет, нужно ли делать паузы при нахождении ошибок. Подробнее ниже, в подразделе [**Ошибка при отладке**](#oshibka-pri-otladke).
* **Проверять синтаксис** - определяет, нужна ли автоматическая проверка синтаксиса.
 
Описание всех параметров см. в разделе [Настройка студии ➝ Отладчик](https://docs.primo-rpa.ru/primo-rpa/primo-studio/settings#otladchik).
  
Существует возможность отключения элемента при выполнении процесса. Для этого нужно нажать иконку ![](../../../.gitbook/assets/ignore.png) в заголовке элемента - в этом случае он будет проигнорирован во время прохождения сценария.

## Консоль

После вызова соответствующей команды будет запущен экземпляр робота, который немедленно начнет исполнять текущий процесс. Отследить его выполнение можно в панели *Консоль*. Если была выбрана отладка, то информация в Консоли будет более подробной и отобразит все действия робота:

![](<../../../.gitbook/assets/2 (8).png>)

Консоль имеет два режима отображения: текстовый и табличный (по умолчанию). Выбрать удобный режим можно с помощью кнопок **Таблица**/**Текст** в левой части панели.
  
В правой части Консоли расположены кнопки:

* ![](<../../../.gitbook/assets/3 (10).png>) **Следовать за наполнением консоли** – текст консоли будет всегда фокусироваться на последнем полученном сообщении.

* ![](<../../../.gitbook/assets/4 (8).png>) **Очистить консоль** – очищает содержимое консоли.

Под кнопками находятся фильтры DEBUG, INFO, ERROR, NETWORK и TEST. Они отвечают за сбор сообщений с соответствующим типом.
  
Двойной клик по строке в таблице Консоли осуществляет переход к выбранному элементу процесса.

Для настройки Консоли используются команды контекстного меню. Чтобы его вызвать, кликните правой кнопкой мыши по названию любого столбца. Так, команда **Показать выбор колонок** позволяет настроить отображение столбцов таблицы.
>  Обратите внимание на колонку **Номер** - в ней выводится информация о номере, присвоенном элементу в процессе. Она отображается, только если Вы специально отметили ее в окне выбора колонок. Отключить автонумерацию элементов можно на вкладке [Настройки ➝ Общие ➝ Оформление](https://docs.primo-rpa.ru/primo-rpa/primo-studio/settings#oformlenie), сняв чекбокс **Отображать нумерацию**.

## Точка останова

**Точки останова (Breakpoint)** позволяют установить паузы на выбранных элементах во время выполнения отладки. Для установки точки нажмите иконку ![](<../../../.gitbook/assets/6 (1).png>) в заголовке нужного элемента: ![](../../../.gitbook/assets/001.png).

Когда при отладке процесс дойдет до элемента с точкой останова, выполнение будет приостановлено до нажатия одной из кнопок: **Сделать шаг** ![](<../../../.gitbook/assets/9 (4).png>) или **Возобновить процесс** ![](../../../.gitbook/assets/10.png) (вкладка *Отладка*):
* **Сделать шаг** осуществляет переход к следующему элементу, после чего процесс снова будет остановлен. 
* **Возобновить процесс** возобновляет свободное выполнение процесса до следующей точки останова.

Для принудительного завершения исполнения процесса необходимо нажать кнопку **Остановить отладку** ![](<../../../.gitbook/assets/11 (2).png>).

## Ошибка при отладке

Если во время отладки выполнение какого-либо элемента завершилось ошибкой, то поведением по умолчанию является прекращение всего процесса. Однако с версии 1.1.30 возможно настроить паузу на исключении. Для этого в настройках Студии на вкладке [Общие ➝ Отладчик](https://docs.primo-rpa.ru/primo-rpa/primo-studio/settings#otladchik) включите параметр **Приостанавливать отладку на исключении**.

В результате процесс будет останавливаться каждый раз при обнаружении исключения, которое невозможно обработать. Это дает возможность проанализировать и исправить ошибку, после чего вручную повторить выполнение элемента, не запуская заново весь процесс. 

Возобновить процесс с того места, на котором возникла ошибка, можно при помощи кнопки **Повтор шага** ![](<../../../.gitbook/assets/Повтор шага.png>) на панели действий.

## Значения переменных

Состояния переменных будут отображаться в колонке *Текущее значение* на панели Переменные:

![](<../../../.gitbook/assets/001 (4).png>)

Для удобства просмотра текущего значения можно нажать кнопку **Просмотр** ![](../../../.gitbook/assets/ViewVariable.png), после чего будет отображено окно просмотра значения в формате JSON:

![](<../../../.gitbook/assets/001 (6).png>)

Работать с переменными и выражениями можно в панели Наблюдение (по функциональности, соответствующей панели Watch классических сред разработки):

![](<../../../.gitbook/assets/001 (18).png>)

В таблице панели указывается вычисляемое выражение, тип данных результата вычисления и результат вычисления. Для создания нового наблюдения нужно нажать кнопку **Создать наблюдение** ![](<../../../.gitbook/assets/12 (2) (3) (1) (1) (2) (1).png>) и ввести текст вычисляемого выражения в появившемся окне:

![](../../../.gitbook/assets/15.png)

Для обновления результатов вычисления нужно нажать кнопку **Обновить** ![](../../../.gitbook/assets/RefreshWatch.png) соответствующего наблюдения. Для удобства в данной панели также есть кнопка **Просмотр** ![](../../../.gitbook/assets/ViewVariable.png).

Изменить вычисляемое выражение можно отредактировав текст прямо в ячейке таблицы либо открыть окно редактирования двойным щелчком на нужном наблюдении.\
Чтобы удалить наблюдение, выделите его в таблице и, либо нажмите кнопку **Удалить наблюдение** ![](<../../../.gitbook/assets/13 (1) (1) (2) (1) (1) (2) (1).png>), либо воспользуйтесь клавишей Delete.

### Изменение значения переменной

![](<../../../.gitbook/assets/image (607).png>)

Для изменения значения переменной во время выполнения процесса нажмите кнопку **Изменить значение** ![](../../../.gitbook/assets/ChangeVariable.png). В появившемся окне вставьте новое значение и нажмите кнопку **ОК**:

![](<../../../.gitbook/assets/image (454).png>)


## Замедленное выполнение

Для отладки быстрых процессов можно ввести искусственные паузы между действиями. За создание паузы отвечает кнопка **Замедление** главного меню <img src="../../../.gitbook/assets/SlowStepOff.png" alt="" data-size="line"> . В выпадающем списке данной кнопки можно выбрать протяженность паузы в секундах.

## Подсветка компонентов

Робот обладает возможностью подсвечивания визуальных компонентов приложений перед взаимодействием с ними. Для включения данной опции имеется кнопка **Подсветка компонентов** главного меню <img src="../../../.gitbook/assets/btnHighlight32.png" alt="" data-size="line">.
