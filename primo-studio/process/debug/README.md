# Выполнение и отладка процессов

Студия предоставляет возможность проверить работоспособность RPA-сценария до публикации проекта. Для этого можно запустить процесс встроенным роботом и пошагово отследить результат выполнения.

Запустить процесс можно следующими командами:
1. **Запустить процесс** ![](<../../../.gitbook/assets/0 (182).png>) — при выполнении операции проигнорируются [точки останова](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/debug#tochka-ostanova) ![](<../../../.gitbook/assets/6 (1).png>) и [пропуск элементов](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/debug#propusk-elementa) ![](../../../.gitbook/assets/ignore.png). Процесс выполнится быстрее, чем при отладке, но в журнал запишется меньше логов. 
2. **Отладить процесс** ![](<../../../.gitbook/assets/1 (126).png>) — операция поддерживает все установленные на элементах точки останова и пропуски. Во время отладки будет выведена наиболее полная информация о действиях робота. 

Обе команды присутствуют на панели быстрого доступа и на вкладке меню «Общие». Кнопку **Отладить процесс** можно также найти на вкладке «Отладка».

![](<../../../.gitbook/assets/run-commands.png>)

## Консоль

Команда запуска/отладки запускает экземпляр робота для немедленного исполнения текущего процесса. Отследить его выполнение можно в панели «Консоль». Если выбрана отладка, то информация будет выводиться подробнее: отобразятся все действия робота.

![](<../../../.gitbook/assets/2 (8).png>)

Консоль имеет два режима отображения: текстовый и табличный (по умолчанию). Переключить режим можно с помощью опций **Таблица**/**Текст**.

![](../../../.gitbook/assets/console-table-or-text.png)

Фильтры DEBUG, INFO, ERROR, NETWORK и TEST отвечают за сбор сообщений с соответствующим типом. Над фильтрами расположены кнопки:
* ![](<../../../.gitbook/assets/3 (10).png>) **Следовать за наполнением консоли** — текст консоли будет всегда фокусироваться на последнем полученном сообщении.
* ![](<../../../.gitbook/assets/4 (8).png>) **Очистить консоль** — очищает содержимое консоли.

![](../../../.gitbook/assets/console-type-messages.png)

Сообщения в консоли можно копировать и открывать для просмотра в диалоговом окне. Обе команды доступны в контекстном меню выбранного сообщения. Скопировать сообщение также можно комбинацией `Ctrl` + `C`, при этом допускается множественное копирование выбранных сообщений.

Дополнительные настройки консоли открываются, если кликнуть по заголовкам таблицы и вызвать контекстное меню. Так, команда **Показать выбор колонок** управляет отображением столбцов в консольной таблице\*.

> \**Например, в колонке «Номер» выводится информация о номере, автоматически присвоенном элементу в процессе. Колонка не отображается по умолчанию, добавить ее в таблицу консоли можно только проставив галочку. Управление функцией автонумерации элементов осуществляется в [настройках](https://docs.primo-rpa.ru/primo-rpa/primo-studio/settings#oformlenie) Студии.*


## Отладчик

Конфигурация отладчика настраивается в разделе **Файл > Настройки > Общие > Отладчик**. Описание всех параметров см. [здесь](https://docs.primo-rpa.ru/primo-rpa/primo-studio/settings#otladchik).

Перед началом отладки укажите тип робота, который будет ее выполнять. Для этого на вкладке «Отладка» в параметре [**Издание робота**](https://docs.primo-rpa.ru/primo-rpa/primo-robot/intro#izdaniya) выберите нужное значение. Например, Enterprise.


![](../../../.gitbook/assets1/enterp.png)

Если отладку процесса нужно начать с произвольного места, выберите стартовый элемент, вызовите его контекстное меню и примените команду **Запуск с элемента**:

![](<../../../.gitbook/assets/debug-run-to-start-element.png>)


### Ошибки при отладке

Если выполнение какого-либо элемента завершилось ошибкой, то поведением по умолчанию является прекращение всего процесса. Однако возможно настроить паузу на исключении. Для этого в настройках [Отладчика](https://docs.primo-rpa.ru/primo-rpa/primo-studio/settings#otladchik) включите параметр **Приостанавливать отладку на исключении**.

В результате процесс будет останавливаться каждый раз при обнаружении исключения. Это дает возможность проанализировать и исправить ошибку, после чего вручную повторить выполнение элемента, не запуская заново весь процесс.

Возобновить процесс с того места, где возникла ошибка, можно при помощи кнопки **Повтор шага** <img src="../../../.gitbook/assets/Повтор шага.png" alt="" data-size="line"> (вкладка «Отладка»).



### Пропуск элемента

:small_orange_diamond: ***Если файл \*.ltw закрыт в момент отладки, пропуск проигнорируется.***

Пропуск элемента — это встроенный инструмент, который позволяет отключить какой-либо элемент при отладке. Чтобы установить пропуск, нажмите иконку ![](../../../.gitbook/assets/ignore.png) в заголовке нужного элемента: 

![](../../../.gitbook/assets/001.png). 

В результате элемент не будет выполнен при отладке сценария — робот его пропустит. 

### Пауза 

Начиная с версии Primo Studio RPA  1.24.6 добавлена кнопка **Приостановить отладку** для всех типов процессов. Это позволяет останавливать выполнение процесса в нужный момент, что улучшает контроль за его исполнением.

![](../../../.gitbook/assets1/pause.png)

### Точка останова 

:small_orange_diamond: ***Если файл \*.ltw закрыт в момент отладки, точка останова проигнорируется.***

Точка останова (breakpoint) — один из важнейших инструментов для разработчика. Точки устанавливаются везде, где нужно приостановить выполнение отладчика. Например, чтобы просмотреть текущее состояние переменных в панели «Вывод».

Чтобы включить точку останова, нажмите иконку ![](<../../../.gitbook/assets/6 (1).png>) в заголовке нужного элемента. Когда отладчик дойдет до элемента с точкой останова, выполнение будет приостановлено. 

Чтобы возобновить отладку, выберите на вкладке меню «Отладка» одну из команд:

* **Сделать шаг** ![](<../../../.gitbook/assets/9 (4).png>) — осуществляет переход к следующему элементу, после чего процесс снова будет остановлен.
* **Возобновить процесс** ![](../../../.gitbook/assets/10.png) — возобновляет свободное выполнение процесса до следующей точки останова.

Для принудительного завершения процесса используйте кнопку **Остановить отладку** ![](<../../../.gitbook/assets/11 (2).png>). 

:bangbang: ***[См. как установить точку останова в процессе с типом «Только код» (Pure code)](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/coding#tochka-ostanova-i-vyvod).***


### Панель «Вывод»

Предоставляет возможность просмотреть значения всех переменных вывода, полученных при отладке. Чтобы она стала доступна, необходимо:

1. Установить в нужном месте точку останова.
2. В [настройках отладчика](https://docs.primo-rpa.ru/primo-rpa/primo-studio/settings#otladchik) включить параметр **Отображать вывод**.
3. Запустить отладку.
4. В левой части экрана, где располагаются панели **Проект** и **Элементы**, перейти на вкладку **Вывод**.

![](../../../.gitbook/assets/output-panel.png)

:small\_blue\_diamond: _**Примечание.** Когда отладка не запущена/завершена, нет данных вывода или точки останова, панель не отображается._

Значения переменных вывода можно подробно просмотреть, нажав на одну из двух кнопок:

* для просмотра данных в табличном виде;
* для просмотра данных в форматах Text/JSON/XML.

![](../../../.gitbook/assets/view-value-buttons.png)

Если значение данных слишком большое и не вошло полностью в вывод, нажмите кнопку **Получить целиком**:

![](../../../.gitbook/assets/output-get-all.png)


#### Редактирование переменной

Чтобы изменить текущее значение переменной, вызовите ее контекстное меню в панели «Вывод» и выберите пункт **Change value**.

![](../../../.gitbook/assets1/output-change-value-in-context-menu.png)

Функциональность может пригодиться при возникновении паузы на исключении, позволяя быстро исправить значение и возобновить отладку процесса (кнопка **Повтор шага**).


### Панель «Наблюдение»

Работать с переменными и выражениями можно также в панели **Наблюдение**. По функциональности она соответствует панели Watch классических сред разработки. В таблице панели указывается вычисляемое выражение, тип данных результата вычисления и сам результат:

![](<../../../.gitbook/assets/001 (18).png>)

Для создания нового наблюдения нажмите кнопку **Создать наблюдение** ![](<../../../.gitbook/assets/12 (2) (3) (1) (1) (2) (1) (2).png>). Введите текст вычисляемого выражения в появившемся окне:

![](../../../.gitbook/assets/15.png)

Обновить результат вычисления можно по кнопке **Обновить** ![](../../../.gitbook/assets/RefreshWatch.png) соответствующего наблюдения. 

Для просмотра значения нажмите кнопку **Просмотр** ![](../../../.gitbook/assets/ViewVariable.png). Выбранное значение можно скопировать комбинацией клавиш `Ctrl` + `C` либо командой контекстного меню.

Изменить вычисляемое выражение можно в ячейке таблицы либо открыв окно редактирования двойным щелчком на нужном наблюдении. Чтобы удалить наблюдение, выделите его в таблице и нажмите кнопку **Удалить наблюдение** ![](<../../../.gitbook/assets/13 (1) (1) (2) (1) (1) (2) (1) (8).png>) либо клавишу `Delete`.


### Замедленное выполнение

Для отладки быстрых процессов можно ввести искусственные паузы между действиями. За создание паузы отвечает кнопка **Замедление** <img src="../../../.gitbook/assets/SlowStepOff.png" alt="" data-size="line"> на вкладке «Отладка». В выпадающем списке данной кнопки можно выбрать протяженность паузы в секундах.

Паузы также возможно установить [в общих свойствах элементов](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/elements#svoistva-elementa): в параметрах **Пауза до (мс)** и **Пауза после (мс)**.

### Подсветка компонентов

Робот может подсветить визуальные компоненты приложений перед взаимодействием с ними. Для этого используйте кнопку **Подсветка компонентов** <img src="../../../.gitbook/assets/btnHighlight32.png" alt="" data-size="line"> на вкладке «Отладка».


