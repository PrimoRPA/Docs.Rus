# Запуск и отладка процессов

Студия предоставляет возможность протестировать готовый процесс до публикации проекта. Для этого существуют команды: **Отладить процесс** ![](<../../../.gitbook/assets/1 (126).png>) и **Запустить процесс** ![](<../../../.gitbook/assets/0 (182).png>).

Особенности команд: 
* В режиме запуска процесса игнорируются [точки останова](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/debug#tochka-ostanova) ![](<../../../.gitbook/assets/6 (1).png>) (Breakpoint) и [пропуск элементов](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/debug#propusk-elementa) ![](../../../.gitbook/assets/ignore.png). В режиме отладки они поддерживаются.
* Процесс выполняется быстрее при запуске, чем при отладке. Однако при отладке доступна более полная информация о действиях робота. 

Перед вызовом той или иной команды потребуется выбрать тип используемого робота. Для этого на вкладке *Отладка* выберите нужное значение в параметре [**Издание робота**](https://docs.primo-rpa.ru/primo-rpa/primo-robot/intro#izdaniya). Например, Enterprise.

Далее выберите команду:

1. Отладка запускается кнопкой **Отладить процесс** ![](<../../../.gitbook/assets/1 (126).png>) на панели быстрого доступа. Кнопка присутствует также на вкладках *Общие* и *Отладка*. 
2. Запуск выполняется по кнопке **Запустить процесс** ![](<../../../.gitbook/assets/0 (182).png>) на панели быстрого доступа (или на вкладке *Общие*). Если выполнение нужно начать с произвольного места, выберите стартовый элемент, вызовите его контекстное меню и щелкните команду **Запуск с элемента**:

<div style="text-align: center;">

![](<../../../.gitbook/assets/image (877).png>)

</div>

## Настройка отладчика
  
Конфигурацию отладчика возможно задать в меню **Файл ➝ Настройки ➝ Общие ➝ Отладка**. Например, настроить такие параметры, как:
* **Сворачивать Студию** - определяет, нужно ли сворачивать приложение Студии во время отладки.
* **Приостанавливать отладку на исключении** - определяет, нужно ли совершать паузу при обнаружении ошибки во время отладки, чтобы вручную ее исправить. Подробности см. [ниже](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/debug#oshibka-pri-otladke).
* **Проверять синтаксис** - определяет, нужно ли автоматически проверять синтаксис кода.
 
Описание всех параметров см. в разделе [**Настройка студии ➝ Отладчик**](https://docs.primo-rpa.ru/primo-rpa/primo-studio/settings#otladchik).
  
## Консоль

После вызова соответствующей команды будет запущен экземпляр робота, который немедленно начнет исполнять текущий процесс. Отследить его выполнение можно в панели *Консоль*. Если выбрана отладка, то информация станет выводиться подробно: отобразятся все действия робота.

![](<../../../.gitbook/assets/2 (8).png>)

Консоль имеет два режима отображения: текстовый и табличный (по умолчанию). Выбрать режим можно с помощью кнопок **Таблица**/**Текст**:

![](<../../../.gitbook/assets/console-table-or-text.png>)
  
В правой части Консоли расположены кнопки:

* ![](<../../../.gitbook/assets/3 (10).png>) **Следовать за наполнением консоли** – текст консоли будет всегда фокусироваться на последнем полученном сообщении.

* ![](<../../../.gitbook/assets/4 (8).png>) **Очистить консоль** – очищает содержимое консоли.

Под ними находятся фильтры DEBUG, INFO, ERROR, NETWORK и TEST. Они отвечают за сбор сообщений с соответствующим типом.

![](<../../../.gitbook/assets/console-type-messages.png>)

Возможные действия с сообщениями:
* Просмотр - двойной клик по сообщению вызывает окно просмотра.
* Копирование - выделите сообщение, вызовите его контекстное меню и выберите команду **Копировать** (либо нажмите горячие клавиши `Ctrl` + `C`). Доступно множественное копирование - для этого выделите все нужные сообщения и примените команду копирования.

Дополнительные настройки Консоли доступны в контекстном меню. Чтобы его вызвать, кликните правой кнопкой мыши по названию любого столбца. Так, команда **Показать выбор колонок** позволяет настроить отображение столбцов таблицы.
  
:bangbang: Обратите внимание на колонку **Номер** - в ней выводится информация о номере, присвоенном элементу в процессе. Колонка отображается, только если специально отметить ее в окне выбора колонок. Отключить автонумерацию элементов можно на вкладке [Настройки ➝ Общие ➝ Оформление](https://docs.primo-rpa.ru/primo-rpa/primo-studio/settings#oformlenie), сняв чекбокс **Отображать нумерацию**.
  
## Пропуск элемента

При выполнении процесса возможно отключить тот или иной элемент. Для этого нажмите иконку ![](../../../.gitbook/assets/ignore.png) в заголовке элемента, и он будет проигнорирован во время прохождения сценария. Функция работает только в режиме отладки.

## Точка останова

**Точки останова** (Breakpoint) позволяют установить паузы на выбранных элементах во время выполнения отладки. Для установки точки нажмите иконку ![](<../../../.gitbook/assets/6 (1).png>) в заголовке нужного элемента: ![](../../../.gitbook/assets/001.png).

Когда при отладке процесс дойдет до элемента с точкой останова, выполнение будет приостановлено до нажатия одной из кнопок на вкладке *Отладка*:
* **Сделать шаг** ![](<../../../.gitbook/assets/9 (4).png>) - осуществляет переход к следующему элементу, после чего процесс снова будет остановлен. 
* **Возобновить процесс** ![](../../../.gitbook/assets/10.png) - возобновляет свободное выполнение процесса до следующей точки останова.

Для принудительного завершения процесса необходимо нажать кнопку **Остановить отладку** ![](<../../../.gitbook/assets/11 (2).png>).
  
## Ошибки при отладке

Если при отладке выполнение какого-либо элемента завершилось ошибкой, то поведением по умолчанию является прекращение всего процесса. Однако возможно настроить паузу на исключении. Для этого в настройках Студии на вкладке [Общие ➝ Отладчик](https://docs.primo-rpa.ru/primo-rpa/primo-studio/settings#otladchik) включите параметр **Приостанавливать отладку на исключении**.

В результате процесс будет останавливаться каждый раз при обнаружении исключения. Это дает возможность проанализировать и исправить ошибку, после чего вручную повторить выполнение элемента, не запуская заново весь процесс. 

Возобновить процесс с того места, на котором возникла ошибка, можно при помощи кнопки **Повтор шага** <img src="../../../.gitbook/assets/Повтор шага.png" alt="" data-size="line"> на вкладке *Отладка*.

## Панель Вывод
Панель вывода (Output) предоставляет возможность просмотреть значения всех переменных вывода, полученные при отладке. Чтобы она стала доступна, необходимо:
* установить в нужном месте точку останова;
* в настройках отладчика включить параметр **Отображать вывод** (Файл > Настройки > Общие > Отладчик);
* запустить отладку;
* в левой части экрана, где располагаются панели **Проект** и **Элементы**, перейти на вкладку **Вывод**.

![](<../../../.gitbook/assets/output-panel.png>)
  
:small_blue_diamond: ****Примечание.*** Когда отладка не запущена/завершена, нет данных вывода или точки останова, панель не отображается.*

Значения переменных вывода можно подробно просмотреть, нажав на одну из двух кнопок:
* для просмотра данных в табличном виде;
* для просмотра данных в форматах Text/JSON/XML.

![](<../../../.gitbook/assets/view-value-buttons.png>)
  
Если значение данных слишком большое и не вошло полностью в вывод, нажмите кнопку **Получить целиком**:
  
![](<../../../.gitbook/assets/output-get-all.png>)  

## Значения переменных

Состояния переменных отображаются на панели **Переменные** в колонке *Текущее значение*:

![](<../../../.gitbook/assets/001 (4).png>)

Для удобного просмотра текущего значения нажмите кнопку **Просмотр** ![](../../../.gitbook/assets/ViewVariable.png) - откроется окно просмотра значения в формате JSON. Выбранное значение можно скопировать в буфер обмена горячими клавишами `Ctrl` + `C` либо командой **Копировать** (контекстное меню). Значение попадет в буфер обмена в текстовом виде. Структурированные данные сериализуются в JSON-формат и также будут доступны в виде текста.

![](<../../../.gitbook/assets/001 (6).png>)

### Изменение значения переменной

![](<../../../.gitbook/assets/image (607).png>)

Для изменения значения во время выполнения процесса нажмите кнопку **Изменить значение** ![](../../../.gitbook/assets/ChangeVariable.png). В появившемся окне вставьте новое значение и нажмите кнопку **ОК**:

![](<../../../.gitbook/assets/image (454).png>)

## Наблюдение

Работать с переменными и выражениями можно в панели **Наблюдение** (по функциональности соответствующей панели Watch классических сред разработки):

![](<../../../.gitbook/assets/001 (18).png>)

В таблице панели указывается вычисляемое выражение, тип данных результата вычисления и сам результат. Для создания нового наблюдения нужно нажать кнопку **Создать наблюдение** ![](<../../../.gitbook/assets/12 (2) (3) (1) (1) (2) (1).png>) и ввести текст вычисляемого выражения в появившемся окне:

![](../../../.gitbook/assets/15.png)

Для обновления результатов вычисления нужно нажать кнопку **Обновить** ![](../../../.gitbook/assets/RefreshWatch.png) соответствующего наблюдения. Для удобства в данной панели также есть кнопка **Просмотр** ![](../../../.gitbook/assets/ViewVariable.png) значения. Выбранное значение можно скопировать в буфер обмена горячими клавишами `Ctrl` + `C` либо при помощи команды **Копировать** контекстного меню. 
  
Изменить вычисляемое выражение можно, отредактировав текст прямо в ячейке таблицы либо открыв окно редактирования двойным щелчком на нужном наблюдении.\
Чтобы удалить наблюдение, выделите его в таблице и нажмите кнопку **Удалить наблюдение** ![](<../../../.gitbook/assets/13 (1) (1) (2) (1) (1) (2) (1).png>) либо клавишу `Delete`.


## Замедленное выполнение

Для отладки быстрых процессов можно ввести искусственные паузы между действиями. За создание паузы отвечает кнопка **Замедление** <img src="../../../.gitbook/assets/SlowStepOff.png" alt="" data-size="line"> на вкладке *Отладка*. В выпадающем списке данной кнопки можно выбрать протяженность паузы в секундах.
  
Паузы также возможно установить [в общих свойствах элементов](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/elements#svoistva-elementa): в параметрах **Пауза до (мс)** и **Пауза после (мс)**.  

## Подсветка компонентов

Робот обладает возможностью подсвечивания визуальных компонентов приложений перед взаимодействием с ними. Для включения данной опции используйте кнопку **Подсветка компонентов** <img src="../../../.gitbook/assets/btnHighlight32.png" alt="" data-size="line"> на вкладке *Отладка*.
