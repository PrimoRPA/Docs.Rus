## **Добавить машину**


**Регистрация машины**

1. Переходим в раздел **Машины**

![](../.gitbook/assets1/add_mashine.png)  

2. **Добавление Новой Машины**:
   - Нажимаем на кнопку "Добавить машину".
   - Называем машину (например, Vicktor) и проверяем её доступность в сети.

3. **Обновление Статуса Машины**:
   - Нажимаем "Обновить" для проверки статуса. Если машина недоступна, это может быть связано с отсутствием установленного агента.
   - Также рекомендуем предварительно ознакомиться с "Руководством по настройке машины Робота.docx" из комплекта поставки

4. **Установка Агента**:
   - Переходим на машину, где будет установлен агент.
   - Копируем в папку на машине два архива: Agent и AgentInstaller.
   - Создаём папку в корне диска C с названием **Primo**
   - Распаковываем архивы агента в папку **Primo**

5. **Настройка Агента**:
   - Обращаемся к документации по установке агента.
   - Если PowerShell не установлен, сначала устанавливаем его.
   - Возвращаемся в папку с AgentInstaller и продолжаем установку, следуя указаниям как в видео https://youtu.be/SlxgjXDrvsM?t=599..
   - Создаём переменную окружения для продуктивной среды через PowerShell, вставляя скопированный скрипт.
   - Создаём службу Агента, вставляя соответствующий скрипт в PowerShell и проверяем её создание.

6. **Конфигурация и Запуск**:
   - Конфигурируем файл appsettings.prod.json, указывая текущий адрес Оркестратора.
   - Сохраняем изменения в файле.
   - Добавляем необходимые порты в фаервол, копируя и вставляя скрипты в PowerShell.
   - Запускаем сервис агента.

7. **Проверка подключения и завершение Настройки**:
   - Открываем браузер и проверяем, подключилась ли машина к Оркестратору.
   - Создаём задачу для удержания RDP-сессии, копируя файл console.bat в корень диска C из комплекта поставки Оркестратора.
   - Импортируем задачу с именем RDP Disconnector из пакета поставки Оркестратора в Task Viewer.

Теперь настройка машины полностью завершена. Если у вас возникли какие-либо трудности,  ознакомьтесь с видеоинструкцией по следующей ссылке: [https://youtu.be/SlxgjXDrvsM?t=599](https://youtu.be/SlxgjXDrvsM?t=599).
