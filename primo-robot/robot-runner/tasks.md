# Задачи

Задачи создаются и редактируются соответствующими кнопками меню:

![](<../../.gitbook/assets/runner-tasks-2.png>)

## Настройки задачи Robot Runner

При нажатии кнопки **Создать задачу** ![](<../../.gitbook/assets/Раннер. Создать задачу.png>) откроется форма для указания ее настроек:

![](<../../.gitbook/assets1/settings_robot_runner.png>)

### Описание полей задачи

Символом  `*` отмечены обязательные для заполнения поля.

1. **Наименование (Name)***  —  Название задачи для идентификации в интерфейсе.
2. **Комментарий (Comment)**  —   Поле для ввода дополнительной информации о задаче. Например, описание назначения или примечания.
3. **Расположение (Location)**  — Указывает расположение проекта:  
   - **Local** — локальное выполнение на текущей машине.  
   - **Orchestrator** — выполнение задачи из проекта, загруженного в Оркестратор.

4. **Путь к проекту (Project path)***   —  Поле для указания пути к проекту, который будет запущен в рамках задачи. Можно выбрать путь через кнопку `...`.
5. **Процесс (Process)***  Указывает процесс из выбранного проекта, который необходимо выполнить. Список доступных процессов станет доступен только после указания п.4 Путь к процессу.
6. **Робот (Robot)**   — Указывает робота, который будет выполнять задачу. По умолчанию используется `[Default]`.
7. **Расписание (Schedule)**   —  Поле для настройки расписания выполнения задачи. В списке значений отображаются ранее созданные названия расписаний. Если значение не указано, задача запускается вручную. 
8. **Включено (Enabled)** — Запускает задачу по расписанию. Если флажок снят, задача не будет запущена, даже если для нее установлено активное расписание.

#### Вкладка "Главное" (General)

1. **Вид окна (Startup position)**
   Определяет, в каком состоянии робот будет запускаться:  
   - *Normal* — программа запускается в стандартном оконном режиме, отображается на рабочем столе.  
   - *Minimized* — программа запускается свернутой в панель задач.  
   - *Maximized* — программа запускается развернутой на весь экран.  
   - *Tray* — программа запускается в области уведомлений (трей), без отображения на панели задач.

2. **От имени администратора (As Administrator)** 
   Если этот флажок установлен, робот будет запускаться с повышенными привилегиями (правами администратора). Это требуется для выполнения задач, которые затрагивают системные настройки или ресурсы.

3. **Конфигурация (Config)** 
   Выбор конфигурации, используемой при запуске программы:  
   - *None* — конфигурация не задана.  
   - *Debug* — отладочная конфигурация для разработки и тестирования.  
   - *Release* — рабочая конфигурация для выполнения готовых проектов.  

4. **Строка конфигурации (Config string)**
   Поле для указания дополнительных параметров конфигурации в текстовом формате. Это используется в специфических случаях для передачи настроек.

5. **Запуск на старте (Instant start)** 
   Если этот флажок установлен, программа будет автоматически запускаться сразу после открытия, без необходимости ручного подтверждения.

6. **Закрыть при завершении (Exit on finish)**
   Если этот флажок установлен, программа автоматически завершит работу после выполнения всех задач.

7. **Язык (Language)** Позволяет выбрать язык интерфейса программы 

8. **Ядро (Engine)** 
   Выбор версии ядра для выполнения задач:  
   - *v2* — улучшенная версия ядра. Используется в настоящее время.
   - *v1* — предыдущая версия ядра.

#### Вкладка "Журнал" (Log)

1. **Формат логов (Log format)**  
   Позволяет выбрать формат хранения логов:  
   - *Text* — сохранение логов в текстовом формате.  
   - *CSV* — сохранение логов в формате CSV (табличные данные).  

2. **Не выводить в консоль (No console)**  
   Если этот флажок установлен, логи не будут отображаться в консоли во время выполнения задачи. Полезно для снижения нагрузки на интерфейс.

3. **Логировать в файл (Log to file)** 
   Если включено, логи автоматически сохраняются в файл. Файл логов хранится в директории, заданной в настройках программы. По умолчанию записываются по пути C:\Users\user\AppData\Local\Primo.Primo Robot\Log

4. **Логировать пользовательские данные в файл (Log custom to file)** 
   Позволяет записывать в файл только определенные типы событий, настроенные вручную.

5. **Типы логов (Types)** 
   Указывает, какие типы событий будут записываться в логи:  
   - *Info* — информационные сообщения.  
   - *Error* — ошибки выполнения.  
   - *Debug* — данные для отладки.  
   - *Network* — события, связанные с сетевыми запросами.  
   - *Test* — тестовые сообщения.


#### Вкладка "Сервер" (Server)

1. **Закрыть RDP (Close RDP)**  
   - Флажок, определяющий, нужно ли закрывать удаленный рабочий стол (RDP) после выполнения задачи.  
   - Если установлен, сеанс RDP автоматически завершится по окончании выполнения текущей задачи.  
   - Полезно для обеспечения безопасности и освобождения ресурсов на сервере.

#### Вкладка "Оркестратор" (Orchestrator)

1. **Без Оркестратора (No Orchestrator)** 
   Если установлен чекбокс, Robot Rpa Runner работает автономно, используя локальную лицензию.

2. **Тип (Type)** — метод аутентификации:  
   - *Primo* — стандартный метод аутентификации через учётные данные Primo.  
   - *Windows* — аутентификация через учетную запись Windows (Active Directory).

3. **Адрес (Address)**  
   URL-адрес сервера Оркестратора, к которому подключается робот.

4. **Тенант (Tenant)**  
   Поле для указания тенанта в Оркестраторе.

5. **Логин (Login)**  
   Учетные данные для подключения к Оркестратору (имя пользователя).

6. **Пароль (Password)**  
   Поле для ввода пароля, соответствующего указанному логину.

7. **Клиентский режим (Attended)**  
   Флажок, определяющий режим работы:  
   - Если установлен, робот будет работать в режиме Attended, предполагающем взаимодействие с пользователем.  
   - Если снят, робот будет работать в автономном режиме (Unattended).

8. **Издание (Edition)**:  
   - *Enterprise*  
   - *Standard*  
   - *Robot_Desktop*


#### Вкладка "Видео" (Video)

1. **Максимальная длина (Max length)**  
   Определяет максимальную длину видео в минутах, записываемого во время выполнения задачи.  
   Если длина видео превышает указанное значение, запись автоматически прекращается.

2. **Частота кадров (Framerate)**  
   Указывает количество кадров в секунду (FPS), которое будет использоваться при записи видео.  
   Более высокое значение обеспечивает плавность видео, но увеличивает размер файла.

3. **Битрейт (Bitrate)**  
   Устанавливает качество видео, определяя объем данных, передаваемых за секунду (в килобитах).  
   Более высокий битрейт обеспечивает лучшее качество видео, но увеличивает размер файла.


#### Вкладка "Тест" (Test)

1. **Использовать заглушки (Use mocks)**  
   Заглушки заменяют реальные объекты для имитации их поведения в тестовой среде. Это полезно для проверки процессов без взаимодействия с реальными системами или данными.

#### Вкладка "Нагрузка" (Load)

1. **Количество потоков (Threads count)**  Указывает общее количество потоков, которые будут созданы для выполнения задачи.
2. **Минимальное количество потоков (Min threads)**   Определяет минимальное количество потоков, которое будет использоваться для выполнения задачи.
3. **Индекс первого (Start index)**  Указывает начальный индекс для выполнения задачи. Используется в сценариях, где задачи должны обрабатываться с определенного элемента или группы данных.
4. **Приоритет потока (Thread priority)**  
   - Устанавливает приоритет выполнения потоков:  
     - *Lowest* — минимальный приоритет.  
     - *BelowNormal* — ниже среднего.  
     - *Normal* — стандартный приоритет.  
     - *AboveNormal* — выше среднего.  
     - *Highest* — максимальный приоритет.  
5. **Приоритет процесса (Process priority)**  
 Доступные параметры: 
     - *Normal* — стандартный приоритет. Процесс получает ресурсы равномерно, как и большинство задач.	  
     - *Idle* — минимальный приоритет. Процесс выполняется только тогда, когда система не занята другими задачами. 
     - *High* — высокий приоритет. Процесс получает значительно больше ресурсов. Подходит для задач с высокой срочностью. 
     - *RealTime* — максимальный приоритет. Процесс выполняется с самым высоким приоритетом, может повлиять на производительность системы. Использовать с осторожностью. 	 
     - *BelowNormal* — ниже среднего. Процесс получает меньше ресурсов, чем стандартные задачи.  
      - *AboveNormal* — выше среднего. Процесс получает больше ресурсов, чем обычные задачи.


Параметры запуска задачи описаны в разделе [Запуск Робота из командной строки](https://docs.primo-rpa.ru/primo-rpa/primo-rpa-robot/installation/launch-command).

Другие кнопки управления:
* Кнопка **Создать ярлык задачи** создает ярлык запуска задачи без Robot Runner.
* Кнопка **Закрыть роботов** прекращает работу всех запущенных локально роботов.
* Кнопка **Редактировать задачу** позволяет изменить параметры выбранной задачи.
* Кнопка **Удалить задачу** позволяет удалить выбранную задачу.

## Список задач

В списке задач отображаются все созданные задачи. Их можно запустить по расписанию или вручную по кнопке ![](<../../.gitbook/assets/play-task-2.png>).

Переключатель ![](<../../.gitbook/assets/launch-task.png>) в строке с задачей управляет запуском задач по расписанию. Если переключатель выключен ![](<../../.gitbook/assets/turn-off-task-2.png>), то задача выполняться не будет. На ручной запуск задачи положение переключателя не влияет.

Если задача запущена, то в общем списке задач она будет отображаться со значком проигрывания. Когда задача завершается, треугольник пропадает. 

![](<../../.gitbook/assets/runner-tasks-list.png>)
