# Системные требования

Включают в себя требования к Оркестратору и машинам роботов.

## Оркестратор
### Аппаратные требования

В таблице приведены требования для управления до 250\* роботами одновременно:

\* *В зависимости от выполняемого проекта/настроек логирования робот может создавать разную нагрузку на Оркестратор, поэтому требования являются обобщенными.*

| Компоненты сервера  | Аппаратные требования  | Примечание |
| ------------------- | ---------------------- | ---------- | 
| Сервер Оркестратора | CPU 8 ядер, RAM 16 Гб, HDD 200 Гб | Сервер приложений. Если RabbitMQ будет на отдельном сервере, HDD рекомендуется 60 Гб |
| Сервер БД | CPU 8 ядер, RAM 16 Гб, HDD 200 Гб  | Main DB  + Identity DB + License DB |
| Сервер журнала | CPU 8 ядер, RAM 16 Гб, HDD 1000 Гб | Logs DB |

У БД с логами ожидается быстрый рост объема. Ежедневный прирост – индивидуальная величина для разных пользователей (зависит от количества логов, которые создают работающие роботы) – может быть оценен по результатам эксплуатации. И на его основе может быть оценен более точно объем HDD и определена периодичность ротации/очистки логов. Величина 1000 Гб взята как усредненная оценка для комфортной работы.

***Оценка объема HDD***

Пусть 10 роботов параллельно работают 24 часа в сутки. Каждый обращается в Оркестратор 10 раз в секунду. Суммарно – 100 запросов в секунду. Пусть за один запрос Роботом отдается 0,1 Кб. 

Тогда ежесуточный прирост = 100 \* (24 \* 60 \* 60) \* 0,1 = 864000 Кб = ~1 Гб.

Если используется поддержка RDP-сессий, надо исходить из оценки: один сервис поддержки RDP на 20 сессий. Это должна быть отдельная машина с CPU 4 ядра и RAM 16 Гб. Или эти ресурсы должны быть включены в сервер Оркестратора. На одну RDP-сессию расходуется ~100 Мб.

### Программные требования
Программные требования к серверам Оркестратора:

| Компоненты сервера  | Программные требования  |
| ------------------- | ----------------------- | 
| Сервер Оркестратора | Windows Server 2016 и выше. <p>Linux: CentOS 8+, Ubuntu 20+, Astra Linux 1.7+ </p> |
| Сервер БД           | см. выше |
| Сервер журнала      | см. выше |


## Машина Робота

Системные требования к машине Робота (рабочей станции):

| Программные требования    |  Аппаратные требования  | 
| ------------------------- | ----------------------- | 
| Windows 10 / Windows Server 2016 и выше | CPU 8 ядер, RAM 8 Гб, HDD 250 Гб (OS + Data) | 
| Linux: CentOS 8+, Ubuntu 20+, Astra Linux 1.7+ | CPU 6 ядер, RAM 8 Гб, HDD 250 Гб (OS + Data) | 
 
Аппаратные требования к машине робота зависят от количества одновременно работающих роботов и задач, которые выполняют роботы. Рекомендуется по 1 ядру CPU на каждого робота.

Обязательно требуется установить последние обновления ОС.

Если в качестве СУБД используется PostgreSQL, необходимо:
1.	Использовать pgbouncer.
2.	В конфигурационном файле настроить:
    *	work_mem 1024 Мб;
    *	effective_cache_size ~50-75% RAM;
    *	shared_buffers ~25-35% RAM.


