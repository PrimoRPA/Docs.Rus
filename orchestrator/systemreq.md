# Системные требования

Включают в себя требования к Оркестратору и машинам роботов.

## Оркестратор. Аппаратные требования

В таблице ниже приведены требования к Оркестратору для управления до 250-ти\* роботами одновременно.

> \**В зависимости от выполняемого проекта/настроек логирования робот может создавать разную нагрузку на Оркестратор, поэтому требования являются обобщенными.*

| Компоненты сервера  | Аппаратные требования  | Примечание |
| ------------------- | ---------------------- | ---------- | 
| Сервер Оркестратора | CPU 8 ядер, RAM 16 Гб, HDD 200 Гб | Сервер приложений. Компоненты RabbitMQ и RDP2 могут быть установлены на этом сервере либо на отдельной машине.<p> 1. Если RabbitMQ установлен на отдельном сервере (лучше на Linux), то рекомендуемое значение HDD - 60 Гб.</p><p>2. Если RDP2 установлен на отдельном сервере (лучше на Windows Server), то значение RAM должно быть не менее 16 Гб,  CPU - 8 ядер, требования к HDD не предъявляются. Для оценки RAM следует учитывать, что на одну RDP-сессию расходуется ~ 200 Мб </p> |
| Сервер БД | CPU 8 ядер, RAM 16 Гб, HDD 200 Гб  | Main DB  + Identity DB + License DB |
| Сервер журнала | CPU 8 ядер, RAM 16 Гб, HDD 1000 Гб | Logs DB |

#### Объем HDD для сервера журнала

У БД с логами (сервер журнала) ожидается быстрый рост объема. Ежедневный прирост зависит от количества логов, которые создают работающие роботы, и может быть оценен по результатам эксплуатации. На основе полученной цифры можно более точно рассчитать объем HDD и определить периодичность ротации/очистки логов. Величина 1000 Гб взята как усредненная оценка для комфортной работы.

*Оценка объема HDD:*

Пусть 10 роботов параллельно работают 24 часа в сутки. Каждый обращается в Оркестратор 10 раз в секунду. Суммарно – 100 запросов в секунду. Пусть за один запрос Роботом отдается 0,1 Кб. 

Тогда ежесуточный прирост = 100 \* (24 \* 60 \* 60) \* 0,1 = 864000 Кб = ~1 Гб.

#### RDP2

Если используется поддержка RDP-сессий, надо исходить из оценки: один сервис поддержки RDP на 20 сессий. На одну RDP-сессию расходуется ~200 Мб.

Эти ресурсы должны быть включены в сервер Оркестратора, либо может использоваться отдельная машина с CPU 8 ядер и RAM 16 Гб. 

:bangbang: ***RDP2 устанавливается на сервере Оркестратора или отдельно. Не следует устанавливать RDP2 на машине робота! Это может повлиять на стабильность работы роботов.***

## Оркестратор. Программные требования
Поддерживаемые операционные системы для серверов:
* Windows Server 2016 и выше;
* Linux: CentOS 8+, Ubuntu 20+, Astra Linux 1.7+.

## Машина робота

Аппаратные требования к машине робота зависят от количества одновременно работающих роботов и задач, которые выполняют роботы.

:bangbang: ***Рекомендуется по 1 ядру CPU на каждого робота.***

| Программные требования    |  Аппаратные требования  | 
| ------------------------- | ----------------------- | 
| Windows 10 / Windows Server 2016 и выше | CPU 8 ядер, RAM 8 Гб, HDD 250 Гб (OS + Data) | 
| Linux: CentOS 8+, Ubuntu 20+, Astra Linux 1.7+ | CPU 6 ядер, RAM 8 Гб, HDD 250 Гб (OS + Data) | 
 
Обязательно требуется установить последние обновления ОС.

Если в качестве СУБД используется **PostgreSQL**, необходимо:
1.	Использовать pgbouncer.
2.	В конфигурационном файле настроить:
    *	work_mem 1024 Мб;
    *	effective_cache_size ~50-75% RAM;
    *	shared_buffers ~25-35% RAM.


