# Ресурсы 

Ресурсы – именованные переменные в хранилище Оркестратора, которые могут читать/устанавливать роботы и Студия при выполнении RPA-проектов. 

Ресурсы делятся на глобальные и локальные: 
* глобальные ресурсы доступны всем роботам, в зависимости от настроек *чтение/запись*.
* локальные привязаны к конкретному роботу, и только этот робот имеет к ним доступ.

## Добавить ресурс

Перейдите в раздел **Роботы > Ресурсы** и нажмите кнопку **Добавить ресурс**:

![](<../../.gitbook/assets1/robot-assets.png>)

Заполните параметры формы:
1. **Имя**\* — название ресурса для отображения в Оркестраторе. Допустимы только буквы, цифры, символовы `_` и `-` и точки.
1. **Тип**\* — выберите тип данных ресурса:
   * String
   * Integer
   * Floating
   * Boolean
   * DateTime
   * Сredentials — тип для учетных данных. Пароль от учетных данных будет храниться в формате SecureString, в базу данных попадет в зашифрованном виде и передаваться в Студию будет тоже зашифрованным.
   * JObject — для данных в формате JSON.  
1. **Описание** — дополнительная информация, которая отобразится о вашем ресурсе в общей таблице. 
1. **Только для чтения** — определяет допустимые действия роботов с ресурсом. Возможные значения:
   * переключатель выключен — роботы могут читать и изменять (перезаписывать) значение ресурса. Значение по умолчанию. 
   * переключатель включен — ресурс доступен только для чтения.
1. **Робот-владелец** — позволяет назначить робота (-ов) для работы с ресурсом. В этом случае ресурс будет считаться локальным, привязанным к роботу. Если вы хотите, чтобы ресурс был доступен всем роботам, оставьте поле пустым.
1. **Тип блокировки** — определяет тип блокировки ресурса роботом. Блокировка может применяться при конкурентном доступе роботов к общему ресурсу — например, при одновременной работе нескольких роботов с проектом, где есть ресурс. В этом случае проект должен содержать элемент [Заблокировать ресурс](https://docs.primo-rpa.ru/primo-rpa/g_elements/el_basic/els_orch/els_assets/lock_asset): когда один робот заблокировал ресурс, действия других роботов с ресурсом ограничиваются на установленное время. <p>Возможные типы блокировки:</p>
   * *Разрешено чтение* — другим роботам запрещено изменять значение ресурса, доступно только чтение.
   * *Запрещено чтение* — другим роботам полностью запрещена работа с ресурсом: они не смогут ни читать, ни изменять ресурс.

   Настройка работает независимо от параметра **Робот-владелец** (владельцы могут быть установлены или отсутствовать).

1. **Таймаут** — время блокировки ресурса за конкретным роботом, задается в секундах. Если таймаут блокировки не указан, применится значение по умолчанию — 20 секунд, после чего блокировка будет автоматически снята. 
1. **Тип внешнего хранилища** — если тип данных ресурса выбран как `Сredentials`, появляется выпадающий список `Тип внешнего хранилища` с вариантом для выбора `CyberArk`. **Доступно с версии Оркестратора 1.24.6**
1. **Учетная запись CyberArk** — если в поле **Тип внешнего хранилища** был выбран CyberArk, отобразится обязательное поле **Учетная запись CyberArk** с кнопкой `Поиск`. Нажатие на кнопку `Поиск` открывает модальное окно для выбора учетной записи из CyberArk.

![](<../../.gitbook/assets1/editass.png>)

В завершение сохраните изменения.

:white_check_mark: **Готово**. Новый ресурс отобразится на странице **Роботы > Ресурсы** в табличной части. 

### CyberArk

С версии Оркестратора 1.24.6 добавлена интеграция с **CyberArk**

- [Вызов веб-сервиса поставщика учетных данных](https://docs.cyberark.com/credential-providers/Latest/en/Content/CCP/Calling-the-Central-Credential-Provider-Web-Service-from-Your-Application-Code.htm?tocpath=Developer%7CCentral%20Credential%20Provider%7CCall%20the%20Central%20Credential%20Provider%20Web%20Service%20from%20Your%20Application%20Code%7C_____0)
- [Работа с SDK для паролей приложений](https://docs.cyberark.com/credential-providers/Latest/en/Content/CP%20and%20ASCP/Working-with-Application-Password-SDK.htm?tocpath=Developer%7CCredential%20Provider%7CApplication%20Password%20SDKs%7C_____0)
- [Документация по API CyberArk в Postman](https://documenter.getpostman.com/view/998920/RzZ9Gz1U?bs=true)


## Работа с ресурсами в Студии

За работу с ресурсами отвечают элементы Студии из группы **Оркестратор > [Значения](https://docs.primo-rpa.ru/primo-rpa/g_elements/el_basic/els_orch/els_assets)**. Используйте элементы, чтобы получить ресурс из Оркестратора либо чтобы перезаписать его значение при наличии соответствующих прав.

Пример:
* Чтобы получить из Оркестратора ресурс с типом Сredentials, используйте в RPA-проекте элемент [Получить учетные данные](https://docs.primo-rpa.ru/primo-rpa/g_elements/osnovnye-elementy/orkestrator/els_assets/el_orch_getcredentials).
* Чтобы изменить в Оркестраторе значение ресурса с типом Сredentials, используйте в RPA-проекте элемент [Установить учетные данные](https://docs.primo-rpa.ru/primo-rpa/g_elements/el_basic/els_orch/els_assets/el_orch_setcredentials).
