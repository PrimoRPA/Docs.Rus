# Комплект поставки

Полный комплект поставки содержит 99 файлов: 53 файла дистрибутивов и 46 файлов документации. Комплект весит около 3 Гб.

## Файлы дистрибутивов 

Файлы дистрибутивов находятся в папке Distr с подпапками Windows и Linux.\
Оркестратор поставляется в следующей комплектации:

1. **WebApi.zip**. Размер (Кб): 60305. WebApi. Для развертывания как службы Windows.
2. **WebApi-IIS.zip**. Размер (Кб):	22665. WebApi. Для развертывания под IIS.
3. **WebApi-linux.zip**. Размер (Кб):	59299. WebApi. Включает файл службы.
4. **States.zip.** Размер (Кб):	36990. States.
5. **States-linux.zip**. Размер (Кб): 37117. States. Включает файл службы.
6. **Notifications.zip**.	Размер (Кб): 51817.	Notifications.
7. **Notifications-linux.zip**.	Размер (Кб): 52117. Notifications. Включает файл службы.
8. **nginx-1.21.1.zip**. Размер (Кб): 1711.	Nginx. Включает конфигурационный файл nginx (nginx.conf) и файлы самоподписанного SSL-сертификата для https (cert1.crt, cert1.rsa).
9. **nginx-linux.zip**. Размер (Кб): 785. Nginx. Включает конфигурационный файл nginx (nginx.conf) и файлы самоподписанного SSL-сертификата для https (cert1.crt, cert1.rsa).
10. **UI.zip**. Размер (Кб): 975315. Файлы UI Оркестратора в браузере, SPA.
11. **aspnetcore-runtime-3.1.15-win-x64.exe**. Размер (Кб): 7671. Для хостинга Core-приложения под IIS.
12. **dotnet-hosting-3.1.15-win.exe**. Размер (Кб):	63223. Для хостинга Core-приложения под IIS.
13. **rewrite_amd64_en-US.msi**. Размер (Кб):	5936.	Модули IIS, обеспечивающие функциональность реверс-прокси.
14. **requestRouter_amd64.msi**. Размер (Кб):	2440. Модули IIS, обеспечивающие функциональность реверс-прокси.
15. **postgresql-13.4-1-windows.zip**. Размер (Кб): 280372. PostgreSQL. Включает скрипты начальной настройки БД ltoolslicense.
16. **postgresql-13-linux.zip**. Размер (Кб): 7626. PostgreSQL. Включает скрипты начальной настройки БД ltoolslicense.
17. **pg_ms.sh**.	Размер (Кб): 1. PostgreSQL. Для кластера Postgres под Linux.
18. **MSSQL.exe**. Размер (Кб): 674688. MS SQL SERVER 2019, MSSMS	+	Включает скрипты начальной настройки БД ltoolslicense.
19. **timescaledb-postgresql-13_2.4.1-windows-amd64.zip.** Размер (Кб): 4048.	TimescaleDB.
20. **timescaledb-postgresql-13-linux.zip.** Размер (Кб): 3400. TimescaleDB.
21. **rabbitmq.zip**. Размер (Кб): 124132. RabbitMQ server. Включает Erlang.
22. **rabbitmq-linux.zip**.	Размер (Кб): 41264. RabbitMQ server. Включает Erlang.
23. **Agent.zip**. Размер (Кб): 42395. Agent.
24. **Agent-linux.zip**. Размер (Кб): 41605. Agent.
25. **Primo.Robot.x64.zip**. Размер (Кб): 218354.	Дистрибутив Робота x64 (не работает с SAP). Для последующей публикации в Оркестраторе.
26. **Primo.Robot.x86.zip**. Размер (Кб): 218921. Дистрибутив Робота x86.
27. **Primo.Robot.x64-linux.zip**. Размер (Кб):	96067. Дистрибутив Робота x64 для Linux (ограниченные возможности работы с UI).
28. **PowerShell-7.1.3-win-x64.msi**. Размер (Кб): 97288. PowerShell 7.1.3.
29. **PrimoWorker.ps1**. Размер (Кб): 5. PowerShell-скрипт для автоматизации настройки машины Робота и развертывания Агента.
30. **ChromeStandaloneSetup64.exe**. Размер (Кб): 82509. Браузер Google Chrome.
31. **PasswordEncriptor.zip**. Размер (Кб): 30674. Программа для шифрования паролей в конфигурационных файлах.
32. **grafana-8.0.6.windows-amd64.msi**. Размер (Кб): 54972. Внешняя аналитическая система Grafana. Не является компонентом Оркестратора.
33. **Роботы-1627543691525.json**. Размер (Кб): 3. Пример отчета в Grafana.
34. **v_AllWorked-postgres.sql**.	Размер (Кб): 2.	View в БД для примера отчета в Grafana. Примечание: PostgreSQL.
35. **v_AllWorked-mssql.sql**. Размер (Кб):	2. View в БД для примера отчета в Grafana. Примечание:	MS SQL Server.
36. **dotnet31-sdk-linux.zip**. Размер (Кб): 81521. Пакеты dotnet-sdk-3.1, aspnetcore-runtime-3.1.
37. **syncthing-linux-amd64-v1.18.2.tar.gz**.	Размер (Кб): 9464. Программа синхронизации папок. Для синхронизации папок с дистрибутивами робота и дампами Журнала.
38. **syncthing.service**. Размер (Кб): 0. Программа синхронизации папок. Для синхронизации папок с дистрибутивами робота и дампами Журнала.
39. **syncthing-windows-amd64-v1.18.2.zip**. Размер (Кб): 9582. Программа синхронизации папок. Для синхронизации папок с дистрибутивами робота и дампами Журнала.
40. **RDP-Disconnector.xml**. Размер (Кб): 3. Windows Task для восстановления сеанса после отключения RDP. Используется вместе с файлом restore_console.bat.
41. **restore_console.bat**. Размер (Кб):	0. Скрипт для перенаправления RDP-сессии в консоль. Используется вместе с файлом выше.
42. **web.config**. Размер (Кб): 1. Должен использоваться при развертывании UI под IIS.
43. **RDP.zip**. Размер (Кб):	4378. Программа (приложение с графическим UI) поддержки активных RDP-сессий. Только для Windows.
44. **MachineInfo.zip**. Размер (Кб):	41449. Служба определения параметров оборудования для работы лицензий.
45. **MachineInfo-linux.zip**. Размер (Кб): 41657. Служба определения параметров оборудования для работы лицензий.
46. **LogEventsWebhook.zip**.	Размер (Кб): 36973. Служба Webhooks на события Оркестратора.
47. **LogEventsWebhook-linux.zip**. Размер (Кб): 37093. Служба Webhooks на события Оркестратора.
48. **haproxy.zip**. Размер (Кб):	1885.	HAProxy. Только для Linux. Включает конфигурационный файл, файлы сертификата.
49. **pg_cron_13-1.3.0-1.rhel8.x86_64.rpm**. Размер (Кб):	96. Расширение PostgreSQL для выполнения заданий по расписанию для Linux.
50. **AgentInstaller.zip**. Размер (Кб): 297237. Инсталлятор для машины робота. Включает автоматическую регистрацию машины робота в Оркестраторе.
51. **RDP2.zip**. Размер (Кб): 37471. Служба поддержки активных RDP-сессий.
52. **RDP2-Astra.zip**. Размер (Кб): 36693. Служба поддержки активных RDP-сессий.
53. **RDP2-CentOS.zip**. Размер (Кб): 36588. Служба поддержки активных RDP-сессий.

Итоговый вес файлов дистрибутивов\* -	2,96 Гб.

> \* Все указанные файлы входят в поставку. Однако комплектация может меняться в зависимости от конкретной поставки.\
> Точный размер файлов можно узнать в свойствах файла. Размер на диске может на единицу быть больше.

## Варианты развертывания компонентов Оркестратора 

Возможные варианты развертывания компонентов Оркестратора из дистрибутивов приведены в таблице ниже. Варианты, для которых поддержка кластера не гарантирована производителем, выделены символом «*».

| Компоненты | Windows | Linux |
| ---------- | ------- | ----- |
| MSSQL      | +       |   |
| PostgreSQL | \*      | + |
| WebApi     | +       | + |
| States     | +       | + |
| Notifications | +    | + |
| Front      | +       | + |
| RabbitMQ   | +       | + |
| RDP        | Приложение в автозагрузке |  |
| MachineInfo | +      | + |
| LogEventsWebhook | + | + |


| Отдельная служба | nginx   | IIS   |
| ---------------- | ------- | ----- |
| +                |         | +     |

Для Windows-серверов рекомендуется: 11 и 133, 163.\
Для Linux-серверов рекомендуется: 22.

