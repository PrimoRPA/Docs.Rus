# Общие папки

Общие папки используются для разграничения прав доступа пользователей к конкретным объектам Оркестратора. С их помощью пользователи могут группировать объекты по папкам и назначать разные права доступа к этим папкам. 

По умолчанию папки в системе отключены. [Включить папки](https://docs.primo-rpa.ru/primo-rpa/orchestrator/fine-tuning/shared-folders) может системный администратор (или другое ответственное лицо) глобально в конфигурационном файле Оркестратора. 

При активации общих папок все объекты Оркестратора по умолчанию будут располагаться в корневой папке.

## Виды папок 

Папка может быть корневой и некорневой. Объект **не может** находиться одновременно в корневой и некорневой папке. 

### Сравнение папок

| Характеристика         |  Корневая                                                     |  Некорневая                     |
| :--------------------: | :-----------------------------------------------------------: | :-----------------------------: |
| Владелец               | Отсутствует                                                   | Пользователь, создавший папку   |  
| Количество папок       | Одна на тенант                                                | Неограниченное                  |
| Неограниченные права   | По умолчанию — все пользователи системы                       | Владелец папки                  |     
| Ограниченные права     | Настраиваются администратором / пользователем с административной ролью | Настраиваются владельцем папки  |  
| Можно создать          | :x:                                                           | :heavy_check_mark:  |
| Можно изменить         | :x:                                                           | :heavy_check_mark:  |
| Можно удалить          | :x:                                                           | :heavy_check_mark:  |

Корневая папка выдается одна на тенант. У нее нет владельца — это системная папка. Все пользователи системы по умолчанию имеют на нее неограниченные права. Администратор тенанта имеет полные права на корневую папку. Корневая папка не может быть переименована или удалена. 

Некорневые папки можно визуально структурировать в виде дерева. Никакого наследования прав при этом не предполагается. Владельцем некорневой папки считается пользователь, создавший папку. Как владелец он имеет неограниченные права. Только владелец папки может редактировать или удалить папку. При удалении папки все ее объекты перемещаются в корневую папку.

## Объекты папок

:small_orange_diamond: ***По умолчанию робот обращается к объектам Оркестратора в контексте текущей папки. Для обращения используется ID папки, что позволяет безопасно переименовывать некорневые папки. Все объекты, необходимые роботу, должны также находиться в текущей папке робота. Возможность явно указывать папку в элементах Студии появится в будущих релизах***.

Всего существует 11 типов объектов, которые могут располагаться в общих папках пользователя:  
1.	RPA-проект.
2.	Робот (может находиться только в одной папке).
3.	Задание (может находиться только в одной папке).
4.	Машина робота.
5.	RDP-пользователь.
6.	Шаблон развертывания.
7.	Группа робота.
8.	Расписание.
9.	Множественный производственный календарь.
10.	Очередь обмена данными.
11.	Ресурc.

За исключением роботов и заданий остальные объекты могут одновременно принадлежать к нескольким некорневым папкам одного владельца.

Очередь проектов также работает в контексте папки, хотя сама ее объектом не является.

## Права к функции общих папок

Администратор может вручную ограничить права пользователя на действия с общими папками. Для этого администратор должен перейти в раздел **Настройки > Роли**, выбрать роль для редактирования и обратиться к группе прав *Общие папки*:

![](<../../.gitbook/assets1/orch-rights-on-shared-folders.png>)

* Просмотр — пользователь с данной ролью сможет только просматривать общие папки.
* Создание — пользователь с данной ролью имеет право создавать общие папки.
* Редактирование — пользователь с данной ролью имеет право изменять общие папки.
* Удаление — пользователь с данной ролью имеет право удалять общие папки.
* *Управление — не применимо по отношению к общим папкам.*

## Управление папками 

Папки создаются в разделе **Общие папки > Все общие папки**. Одну из папок пользователь может назначить текущей — она отобразится слева под главным меню, ниже раздела **Мониторинг**. 

Фильтрация всех объектов будет происходить на основе текущей папки. Все новые объекты создаются в текущей папке.

![](<../../.gitbook/assets1/orc-menu-shared-folders.png>)

Пользователь может перемещать объекты между своими папками:

![](<../../.gitbook/assets1/orc-shared-folers-move-object.png>)

Пользователь может переместить объекты из своей папки в корневую папку. Из корневой папки пользователь может переместить объекты в свою папку, если нет явного запрета (на корневую папку заданы права не ниже удаления).

## Делегирование прав доступа к объектам папки

Владелец некорневой папки может делегировать права на объекты папки другим пользователям. Существуют следующие типы прав:
* **Только чтение** — доступен только просмотр содержимого папки.
* **Использование** — просмотр и использование объектов папки. Например, использование заданий без возможности их редактировать.
* **Редактирование** — просмотр и использование объектов папки с возможностью их редактирования.
* **Удаление** — просмотр и использование объектов папки с возможностью их редактирования и удаления.

### Делегирование от лица администратора

Администратор / администратор тенанта может делегировать права, обратившись к одному из следующих разделов:
* из раздела **Все общие папки** — выберите папку, объекты которой нужно делегировать одному или нескольким пользователям;
* из раздела **Пользователи** — выберите пользователя, которому нужно делегировать папку.

На рисунке ниже представлено делегирование папки из раздела **Настройки > Пользователи**:
1. Нажмите значок `>` рядом с пользователем, чтобы раскрыть меню с делегированием папок.
2. Выберите некорневую папку и укажите права доступа к ее объектам.
3. В результате делегированная папка отобразится в профиле пользователя. На рисунке ниже пользователю **noadmin** делегирована папка **MyBigFolder2** с правами *Только чтение*.

![](<../../.gitbook/assets1/orch-shared-folders-delegate-as-admin-result.png>)

### Делегирование от обычного пользователя

Обычный пользователь — не администратор — может делегировать свою папку только из раздела **Все общие папки**:

![](<../../.gitbook/assets1/orch-shared-folders-delegate-not-as-admin-1.png>)

Нажмите кнопку **Делегировать** и заполните открывшуюся форму:

![](<../../.gitbook/assets1/orch-shared-folders-delegate-not-as-admin-2.png>)

