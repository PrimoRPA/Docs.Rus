# Добавление RPA проекта

Добавление RPA-проекта или его версии в Оркестратор осуществляется на вкладке **RPA-проекты/Все RPA-проекты** по нажатию на кнопку **Добавить RPA-проект**:

![](../../../orchestrator-new/resources/orchestrator-user/add-rpa-prj1.PNG)

Для добавления версии RPA-проекта нужно выделить существующий RPA-проект и использовать кнопку **Добавить версию**. 

Все версии проекта сгруппированы в виде «master-detail». Мастером является активная версия проекта. Активность версии означает, что при автоматическом выполнении проекта через запуск задания будет использоваться именно активная версия (задание могло быть ранее создано с другой версией проекта).

Для семантической группировки проектов и поиска по этим группам проектам можно задать тэги:

![](../../../orchestrator-new/resources/orchestrator-user/add-rpa-prj2.PNG)

* **Приоритет** определяет схему выхода проекта из очереди проектов. В зависимости от типа очереди проекта (задается в конфигурационном файле Оркестратора Администратором, параметр `RobotStart.UseRabbitMQ`):
    * `UseRabbitMQ = true` (очередь на основе RabbitMQ): Определяет, как долго проект будет ожидать выхода из очереди проектов, когда туда попадет. Время (сек.) нахождения проекта в очереди проектов задается в конфигурационном файле Оркестратора. В общем случае приоритет не гарантирует порядок.
    * `UseRabbitMQ = false` (очередь на основе опроса таблицы БД): Определяет гарантированный порядок выхода проекта из очереди проектов, так как является полем для сортировки.
* **Версии дистрибутива робота** – здесь задается список дистрибутивов робота, с которыми совместим проект. Для автоматического запуска проекта будут рассматриваться только роботы этих версий.
* **Версия**. Верхняя часть (v0, …, vN) версии – это технические версии проектов внутри Оркестратора, назначаются Оркестратором автоматически. Нижняя часть версии – строка формата, принятого разработчиками проектов. Может заполняться на основе метаданных проекта, полученных при чтении архива проекта. Также в этом столбце отображается источник публикации и является ли версия проекта RC (Release Candidate, предрелиз). Если версия является RC, то в конструкторе прав роли должны быть настроены права на возможность работы с RC, иначе RC не может использоваться в заданиях\*.
* **Описание** – произвольное текстовое описание проекта. Обычно используется для пояснения, что именно делает проект. 
* **Закрыть RDP-сессию** означает, что при завершении проекта открытая ранее RDP-сессия, если она не нужна, будет закрыта. С одной стороны, закрытие сессии после выполнения проекта приводит к экономии ресурсов на машине робота, так как освобождаются все ресурсы, используемые внутри сессии (это могут быть различные программы, которые открыл робот в процессе выполнения проекта). С другой стороны, это может привести к необходимости частого пересоздания сессий, что негативно сказывается на работе RDS и ведет к нестабильности открытия/удержания RDP-сессий.
* **Запуск в ограниченном кол-ве экземпляров** означает, что при автоматическом запуске проекта через задание, если проект уже выполняется в максимальном кол-ве экземпляров, запуск будет пропущен. Если не задано, то считается, что ограничение максимального кол-ва экземпляров отсутствует.
* **Не повторять в очереди проектов** означает, что, если проект уже находится в очереди проектов, повторно в очередь проект он добавлен не будет. Рекомендуется использовать этот параметр, чтобы не спровоцировать неоправданный рост очереди проектов

>\* - *Чтобы ограничить в продуктивном контуре работу с RC, который, возможно, потребует дополнительного тестирования/доработки в дальнейшем*

![](../../../orchestrator-new/resources/orchestrator-user/add-rpa-prj3.PNG)

Ряд параметров не отображается в таблице, просмотреть/задать их можно на форме добавления/редактирования проекта (см. иллюстрацию выше):
* **Разрядность** – 32 или 64. Проект будут выполнять роботы соответствующей разрядности.
* **Использовать заглушки** – роботу будет передаваться через параметры командной строки флаг, который разработчик проекта может обрабатывать в исходном коде проекта. Например, чтобы исключить выполнение некоторых частей проекта.
* **Конфигурация запуска** – роботу будут передаваться через параметры командной строки параметры конфигурации, которые разработчик проекта может обрабатывать в исходном коде проекта.
* **Не очищать папку** – при скачивании проекта в папку на машине робота, папка предварительно не будет очищаться. Чтобы не затереть некоторые зависимости проекта, которые могут быть добавлены в эту папку разработчиком проекта вручную.
* **Освободить сессию принудительно** – если поднят этот флаг, то при освобождении RDP-сессии робот не смотрит на отсутствие признака освобождения RDP-сессии у других роботов. Должно использоваться, когда только один робот освобождает RDP-сессию за собой, чтобы не ломать работу остальных роботов в этой RDP-сессии. Дает прирост производительности за счет упрощения логики управления сессией.
* **Задержка освобождения RDP-сессии (мсек)** – RDP-сессия может очень быстро понадобиться другому роботу. Данный флаг используется, чтобы не пересоздавать сессию заново и не нагружать RDS. Можно так подобрать этот параметр, что RDP-сессия вообще не будет пересоздаваться, если она постоянно (возможно, с короткими паузами) требуется роботам.

Загружать проект через UI Оркестратора необходимо только в виде zip-архива, сформированного в Primo RPA Studio. При этом стоит следить за кодировкой файлов в архиве, особенно при использовании имен файлов на кириллице\*. Рекомендуются кодировки utf-8 и cp866.  

Красным восклицательным знаком отмечены проекты, которые при текущей стратегии очереди проектов не могут быть автоматически запущены через задания, так как к ним не привязаны роботы.

> \* - *Кириллицу использовать не рекомендуется*