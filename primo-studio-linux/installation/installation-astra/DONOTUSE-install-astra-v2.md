# Установка Primo RPA Studio Linux на Astra Linux

## Установка дополнительных компонентов

Выберите активную версию Python 3.7:  

`sudo update-alternatives --install /usr/bin/python python /usr/bin/python3.7`  

Об успехе будет свидетельствовать ответ:  

`update-alternatives: using /usr/bin/python3.7python to provide /usr/bin/python (python) in auto mode`  

Проверьте, что версия выбрана верно:  

`python -V`  

Распакуйте архив StudioLinuxAdds.deb.zip в удобный каталог, например: `/home/user`.  

Скачать архив можно [здесь](https://disk.primo-rpa.ru/index.php/s/cmapanywLsMkZzs).  

Перейдите в каталог python3-pyatspi и установите все пакеты:  

`cd /home/user/python3-pyatspi`
`sudo dpkg -i *.deb`  

Перейдите в каталог imagemagick и установите все пакеты:  

`cd /home/user/imagemagick`
`sudo dpkg -i *.deb`

Проверьте корректность установки:  

`convert -version`

Перейдите в каталог xdotool и установите все пакеты:

`cd /home/user/xdotool`
`sudo dpkg -i *.deb`

Проверьте корректность установки:

`xdotool –version`

Установите xsel:

`sudo apt-get update`
`sudo apt-get -y install xsel`

## Установка Cтудии

Распакуйте архив Primo.Studio.Linux.zip в удобный каталог, например: `/home/user`. 

Создайте каталог:

`sudo mkdir /opt/Primo/`

Содержимое папки linux-x64 перенесите в `/opt/Primo/Studio`

`sudo mv /home/user/linux-x64/ /opt/Primo/Studio/`

Задайте права:

`sudo chmod -R 777 /opt/Primo/Studio/`

## Установка расширения для браузера Хром

Откройте браузер Хром, выберите пункт меню **Настройки и управление Google Chrome > Расширения > Управление расширениями**, далее на странице **Расширения** установите настройку **Режим разработчика**:

![](<../../../.gitbook/assets1/DeveloperMode.png>)

Выполните перетаскивание файла `/opt/Primo/Studio/Extensions/Chrome/chrome.crx` в браузер Хром на страницу **Расширения**. В результате на странице должно появиться расширение Primo RPA Extension:  

![](<../../../.gitbook/assets1/ChromeExtension.png>)

## Установка расширения для браузера Яндекс

Откройте браузер Яндекс, в строке адреса укажите browser://extensions/, нажмите Enter, далее на странице **Расширения** установите настройку **Режим разработчика**:

![](<../../../.gitbook/assets1/DeveloperMode.png>)

Выполните перетаскивание файла `/opt/Primo/Studio/Extensions/Chrome/chrome.crx` в браузер Яндекс на страницу **Расширения**. В результате на странице должно появиться расширение Primo RPA Extension:  

![](<../../../.gitbook/assets1/YandexExtension.png>)

## Настройка браузеров Хром и Яндекс для текущего пользователя

Скрипт browsers.sh выполняет регистрацию расширения, установленного для браузеров Хром и Яндекс, для текущего пользователя. 

Запустите скрипт: 

`./opt/Primo/Studio/browsers.sh`

Вывод консоли должен содержать повторяющуюся два раза строчку: 

"Расширение успешно установлено. Перезапустите браузер."

Проверьте регистрацию расширения:

После перезапуска браузера Хром или Яндекс должен появиться активный процесс LTools.WebBrowser.Native, который должен закрыться сразу после закрытия браузера. Процесс можно увидеть в утилите Системный монитор.

## Запуск Студии

Запустите:

`/opt/Primo/Studio/Primo.Studio`

## Дополнительные настройки

1. **Проблема**: «Отсутствие альфа канала при работе селектора с браузерами». Проблема проявляется как отображения черного экрана во время работы селектора для браузера.

**Решение**: включите прозрачность в композит-менеджер (по умолчанию ВЫКЛ).  
fly-admin-theme -> «Эффекты» -> «Композитинг» -> «Прозрачность»

![](<../../../.gitbook/assets1/AlphaChannel-Setup.png>)

2. **Проблема**: «При запуске браузера Яндекс восстанавливаются закрытые вкладки страниц».

**Решение**: В настройках «Интерфейс»-> «Вкладки и группы» выключите настройку «При запуске восстанавливать вкладки окон и список закрепленных групп»

![](<../../../.gitbook/assets1/PageRestore.png>)



