# Должен остановиться

![](<../../../../.gitbook/assets/image (100) (1) (1) (1) (1) (1) (1) (10) (153).png>)

![](<../../../../.gitbook/assets/image (282).png>)

**Должен остановиться (Should stop)** - получает сигнал мягкой остановки из Оркестратора. Остановка сработает только при наличии сигнала, иначе - проигнорируется. 

Кто подает сигнал:
1. Система - в этом случае RPA-проект запускается в Оркестраторе по заданию с триггером **Запуск по расписанию** и установленным чекбоксом **Завершение робота** в режиме **Попросить остановиться**. Подробности см. [здесь](https://docs.primo-rpa.ru/primo-rpa/orchestrator/basics/tasks#1.-zapusk-po-raspisaniyu).
2. Пользователь - вручную. Чтобы отправить сигнал вручную, необходимо:
   * находясь в Оркестраторе, перейти в раздел **Роботы  > Все Роботы**;
   * выделить Робота, который начал выполнять проект. В проекте должен присутствовать элемент **Должен остановиться (Should stop)**;
   * нажать кнопку **Попросить остановиться\*** в верхней части страницы (см. рисунок ниже).

   :bangbang: *\*Кнопка отображается только во время выполнения проекта.*

 ![](<../../../../.gitbook/assets/ask to stop-2.png>)

В результате этих действий Робот, дойдя до выполнения элемента **Должен остановиться**, совершит мягкую остановку.

## Свойства
Описание общих свойств элемента см. в разделе [Свойства элемента](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/elements#svoistva-elementa).\
Символ `*` в названии свойства указывает на обязательность заполнения.

| Свойство    | Тип     | Описание                                  |
| ----------- | ------- | ----------------------------------------- |
| Таймаут     | Int32   | Лимит времени операции (мс). Если по истечении лимита операция не выполнена, Робот закончит работу с ошибкой |
| Результат\* | Boolean | Переменная для хранения полученных данных (сигнала) из Оркестратора. Возможные значения: `true` - получен сигнал остановки; `false` - сигнала не было |


## Обучающий пример

На портале Learning можно скачать процесс [Должен остановиться.ltw](https://github.com/PrimoRPA/Learning/blob/master/StudioActivities/Ru/%D0%9E%D1%80%D0%BA%D0%B5%D1%81%D1%82%D1%80%D0%B0%D1%82%D0%BE%D1%80/%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81/%D0%94%D0%BE%D0%BB%D0%B6%D0%B5%D0%BD%20%D0%BE%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%D1%81%D1%8F.ltw) (либо [Should stop.ltw](https://github.com/PrimoRPA/Learning/blob/master/StudioActivities/En/Orchestrator/Process/Should%20stop.ltw) на английском), демонстрирующий работу элемента. Добавьте процесс в свой проект в Студии, чтобы просмотреть его.

## Решение проблем

Актуально для Роботов, имеющих версию ниже 23.6.

Чтобы Робот не заканчивал работу с *Ошибкой при обращении к Оркестратору*:
- включите чекбокс **Продолжить при ошибке** в группе общих свойств;
- либо используйте данный элемент в [Try-Catch](https://docs.primo-rpa.ru/primo-rpa/g_elements/el_basic/els_logic/el_logic_trycatch). 
 
С версии Робота 23.6 чекбокс можно не включать, поскольку эта ошибка стала игнорироваться по умолчанию.

## Только код
Пример использования элемента в процессе с типом **Только код (Pure code)**:

{% tabs %}
{% tab title="C#" %}
```csharp
bool ret = LTools.Enterprise.OrchestratorApp.ShouldStop(wf);
```
{% endtab %}

{% tab title="Python" %}
```python
ret = LTools.Enterprise.OrchestratorApp.ShouldStop(wf)
```
{% endtab %}

{% tab title="JavaScript" %}
```javascript
var ret = _lib.LTools.Enterprise.OrchestratorApp.ShouldStop(wf);
```
{% endtab %}
{% endtabs %}
