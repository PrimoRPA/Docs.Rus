# Изменить статус в очереди

*Eng: Change queue item state*

Позволяет изменить статус элемента [очереди обмена данных](https://docs.primo-rpa.ru/primo-rpa/orchestrator/basics/data-queues) Оркестратора на один из следующих: Success, Error, Business Error. Выбранный статус будет обозначать результат обработки элемента роботом.

![](<../../../../.gitbook/assets/change-status-orch-queue-items.png>)

Жизненный цикл элемента очереди:

1. **New («Новый»)** - присваивается автоматически при добавлении элемента в очередь. Элемент в статусе New еще не извлечен из очереди ни одним роботом. Это логический статус: он отсутствует в истории статусов и вычисляется по косвенным признакам элемента.
2. **In Progress («В обработке»)** - присваивается автоматически, когда робот извлек элемент из очереди. Это логический статус - признак того, что элемента больше нет в очереди. Извлечь его можно, например, с помощью компонента [**Получить из очереди**](https://docs.primo-rpa.ru/primo-rpa/g\_elements/el\_basic/els\_orch/els\_queues/readfromqueue).
3. Чтобы завершить обработку извлеченного элемента, ему нужно присвоить финальный статус. Для этого RPA-разработчик использует в сценарии компонент «Изменить статус в очереди». Выбор статуса зависит от результата работы с элементом:
   * **Success («Успех»)** - присваивается, если во время обработки не обнаружено ошибок.
   * **Error («Ошибка общего вида»)** - если возникла системная ошибка. Например, робот не смог нажать кнопку.
   * **Business Error («Бизнес-ошибка»)** - при ошибке в бизнес-логике.

### Свойства

Описание общих свойств элемента см. в разделе [Свойства элемента](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/elements#svoistva-elementa).\
Символ `*` в названии свойства указывает на обязательность заполнения.

| Свойство  |                                      Тип                                     | Описание                                                      | Пример                                            |
| --------- | :--------------------------------------------------------------------------: | ------------------------------------------------------------- | ------------------------------------------------- |
| Очередь\* |                                    String                                    | Название очереди Оркестратора, в которой находится элемент. Значение чувствительно к регистру   | `"Queue name"`           |
| ID\*      | [Guid](https://docs.microsoft.com/ru-ru/dotnet/api/system.guid?view=net-6.0) | ID - идентификатор элемента очереди. Как правило, указывается в виде переменной. ID можно получить и затем сохранить в переменную при чтении элемента | `queque_guid`  |
| Статус    |                                       -                                      | Статус обработки элемента. Выберите нужное значение в выпадающем списке: Success/Error/Business Error   | `Success`   |
| Текст     |                                    String                                    | Комментарий к изменению статуса                         | `"Дополнительная информация от RPA-разработчика"` |
| Таймаут   |                                     Int32                                    | Лимит времени операции (мс). Если по истечении лимита операция не выполнена, робот закончит работу с ошибкой | `3000` |

### Только код

Пример использования элемента в процессе с типом **Только код** (Pure code):

{% tabs %}
{% tab title="C#" %}
```csharp
LTools.Enterprise.OrchestratorApp.ChangeQueueItemState(wf, "queue", id, LTools.Enums.ExchangeQueueValueEventType.Success, "txt");
```
{% endtab %}

{% tab title="Python" %}
```python
LTools.Enterprise.OrchestratorApp.ChangeQueueItemState(wf, "queue", id, LTools.Enums.ExchangeQueueValueEventType.Success, "txt")
```
{% endtab %}

{% tab title="JavaScript" %}
```javascript
_lib.LTools.Enterprise.OrchestratorApp.ChangeQueueItemState(wf, "queue", id, _lib.LTools.Enums.ExchangeQueueValueEventType.Success, "txt");
```
{% endtab %}
{% endtabs %}
