# Получить из очереди

*Eng: Peek queue*

Извлекает новый элемент из очереди Оркестратора для дальнейшей обработки роботом. В ответе Оркестратор возвращает первый элемент, вошедший в очередь (принцип FIFO). 

Для успешной работы должна быть настроена связь Студии и Оркестратора.

![](<../../../../.gitbook/assets/image (393).png>)

### Свойства
Описание общих свойств см. в разделе [Свойства элемента](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/elements#svoistva-elementa).\
Символ `*` в названии указывает на обязательность заполнения.

:small_blue_diamond: **Примечание**. Отличие между свойствами вывода «Элемент», «Таблица» и «Результат» заключается только в типе данных, в котором вы хотите получить элемент очереди из Оркестратора.

| Свойство  | Тип    | Описание                                  |
| --------- | ------ | ----------------------------------------- |
| ***Процесс:*** |   |  
| Очередь\* | String | Название очереди. Должно совпадать с названием в Оркестраторе. Значение чувствительно к регистру. Пример: `"Queue name"` |
| Статус    | LTools.Enterprise.Model.QueueItemStates | Определяет, нужно ли извлекать элемент, который был добавлен в очередь повторно (в ответ на возникновение ошибки). Если в настройках очереди включен параметр «На какие ошибки элемент должен ставиться в очередь повторно» и задано количество попыток, то в этом свойстве возможно указать, нужно ли извлекать повторные элементы. **Все повторные элементы тоже имеют в очереди статус New**! <p>Список значений:</p> <p>1) **New** - извлечь только тот элемент, который ни разу не повторялся. Значение по умолчанию.</p> <p>2) **Error** - извлечь элемент, который был повторен 1 раз. </p><p>3) **Repeated Error** - извлечь элемент, который повторно ставился в очередь более 1-го раза. </p><p>4) **Any** - требуется извлечь любой элемент в статусе New, вне зависимости от того, был он повторен или нет</p> |   
| Таймаут   | Int32  | Лимит времени операции (мс). Если по истечении лимита операция не выполнена, Робот закончит работу с ошибкой |
| ***Вывод:*** |     |    |
| Результат | String | Переменная для хранения полученных данных |
| Элемент    | [LTools.Enterprise.Model.QueueItem](https://docs.primo-rpa.ru/primo-rpa/g_elements/el_basic/els_orch/els_queues/datatypes) | Переменная для хранения элемента очереди в виде объекта | 
| Таблица    | DataTable | Переменная для хранения полученных данных в виде таблицы | 


### Только код
Пример использования элемента в процессе с типом **Только код** (Pure code):

{% tabs %}
{% tab title="C#" %}
```csharp
object ret = LTools.Enterprise.OrchestratorApp.PeekQueue(wf, "queue");
```
{% endtab %}

{% tab title="Python" %}
```python
ret = LTools.Enterprise.OrchestratorApp.PeekQueue(wf, "queue")
```
{% endtab %}

{% tab title="JavaScript" %}
```javascript
var ret = _lib.LTools.Enterprise.OrchestratorApp.PeekQueue(wf, "queue");
```
{% endtab %}
{% endtabs %}
