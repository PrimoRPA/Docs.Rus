# Создать запрос NLP

Элемент отправляет запрос к NLP-модели в Primo RPA Server AI. Данная модель обрабатывает входной текст на естественном языке и возвращает ответ, который зависит от используемого навыка:
* Генерация — создает текст на основе начального ввода или заданного контекста.
* Суммаризация — кратко излагает ваш текст с ацентом на определенные темы.
* Экстракция — извлекает из текста информацию по заданным ключам поиска.
* Классификация — отвечает на запрос, исходя из заранее определенного списка возможных ответов.

Как создать запрос с помощью элемента:
* укажите в свойствах входной текст и ключи ответа (определяются выбранным навыком);
* настройте маршрутизацию запроса и параметры ответа модели: вариативность, ограничение длины ответа и т.д.;
* укажите название переменной, которая будет хранить ответ от сервера — автоматически присвоенный идентификатора запроса.

![](<../../../.gitbook/assets1/windows_items/WFAttachPrimoAIServer.png>)


## Перед началом работы

1. Установите в Студии библиотеку [Primo.AI.Server](https://docs.primo-rpa.ru/primo-rpa/g_elements/el_extra/ai_server), поскольку данный элемент входит в состав библиотеки.
1. Найдите на панели элементов группу **AI > NLP** и перетащите элемент **Создать запрос NLP** в свой процесс.


## Свойства
Символ `*` указывает на обязательность заполнения свойства. Описание общих свойств см. в разделе [Свойства элемента](https://docs.primo-rpa.ru/primo-rpa/primo-studio/process/elements#svoistva-elementa).

**Обработка:**

1. **Текст\*** *[String]* — входной текст для обработки NLP-моделью. 
1. **Ключи ответа** *[List\<String>]* — специфичные для каждого NLP-навыка параметры. Например, для навыка экстракции в ключах ответа следует указать ключи поиска, по которым модель будет извлекать информацию из вашего текста. Ключи указываются через запятую. Пример: `"дата договора, стороны"`.
1. **Длина ответа\*** *[Int32]* — максимальная длина ответа модели, которая измеряется в токенах. Для русского языка 1 слово ~ 1.5 токена. По умолчанию `256`.
1. **Ключ маршрутизации\*** *[String]* — ключ маршрутизации для вашего запроса. Каждый ключ ассоциирован с навыком NLP-модели и должен быть заранее создан на сервере Server AI. Пример ключа для навыка экстракции: `"nlp-extraction"`.
1. **Контекст** *[String]* — путь к файлу с контекстом (`.json`). Данный файл определяет поведение модели относительно запросов. 
1. **Температура\*** *[Double]* — определяет вариативность ответа модели. Чем ниже температура, тем меньше вариативность в генерации. По умолчанию `0.1`.
1. **Min p\*** *[Double]* — определяет порог в диапазоне выбора токенов: 0 — любой, 1 — самый вероятный. Под токеном подразумевается единица текста: слово, символ и т.д. Чем выше порог, тем наиболее вероятные токены модель вернет в ответе. По умолчанию `0.1`.


**Вывод:**
* **Результат** *[System.Guid]* — название переменной, в которую сохранится идентификатор запроса от сервера.
