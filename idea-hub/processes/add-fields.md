# Добавление полей 

В Idea Hub существует возможность добавления произвольного количества полей, которые также могут быть экспортированы/импортированы в файте `process.xlsx` (при указании соответствующих настроек). По умолчанию продукт уже содержит некоторый предустановленный набор полей, но в зависимости от потребностей организации он может быть расширен.

Для добавления новых полей используйте пункт административного меню **Структура > Типы материалов**.

![](<../../.gitbook/assets/IdeaHub_Processes_1_SuggestIdea.png>)

Далее нажмите кнопку **Управление полями** для того типа материала, для которого необходимо добавить поле.

![](<../../.gitbook/assets/IdeaHub_Processes_1_SuggestIdea.png>)

Откроется страница **Управление полями**, содержащая список всех полей, которые есть на текущий момент для данного типа материала. В правом верхнем углу страницы расположена кнопка **Добавить поле**.

![](<../../.gitbook/assets/IdeaHub_Processes_1_SuggestIdea.png>)

При нажатии на кнопку откроется страница **Добавить поле**. Выберите тип для добавляемого нового поля или выберите одно из существующих полей из выпадающего списка.

![](<../../.gitbook/assets/IdeaHub_Processes_1_SuggestIdea.png>)

После добавления поле появится в списке на странице **Управление полями**.

Для определенных типов полей существует возможность указать, можно ли будет его заполнять с помощью импорта `process.xslx` файла.\
К таким типам полей относятся: datetime, file, entity_reference, integer, decimal, float, string, string_long, text_with_summary, workflow, formula.

Для изменения данной настройки нажмите на кнопку **Изменить** напротив названия поля в списке - откроется страница **Настройки поля**:

![](<../../.gitbook/assets/IdeaHub_Processes_1_SuggestIdea.png>)

Основные настройки данной формы являются общими и не зависят от выбранного типа поля, но набор настроек в разделе **Настройка импорта/экспорта поля** может различаться.

Для того, чтобы добавить поле в шаблон файла `process.xlsx` для импорта/экспорта, активируйте флажок **Включить импорт/экспорт поля**:

![](<../../.gitbook/assets/IdeaHub_Processes_1_SuggestIdea.png>)

Также в разделе **Настройка импорта/экспорта поля** есть флажок **Сделать прописной буквой первый символ в строке**, при включении которого в процессе импорта первая буква значения поля будет меняться на заглавную (если она была строчной).

Текстовое поле **Инструкция по заполнению** предназначено для указания краткой инструкции о том, как данное поле должно заполняться в файле `process.xlsx`. Эта инструкция будет показываться при наведении курсора мыши на заголовок соответствующей колонки в экспортированном файле. 

Кроме того, в данном разделе формы можно выбрать тип обработчика для импортируемых данных. Это нужно для корректного преобразования данных, полученных из файла при импорте. Набор возможных типов обработчиков зависит от типа поля.

Для типа поля `file` форма также содержит настройку **Изменить поведение, если файл уже существует**.\
С помощью этой настройки определяется, каким должно быть поведение функциональности в случае, если файл с таким именем уже существует в системе:
* Заменить — заменит существующий файл новым.
* Переименовать — файл будет переименован так, чтобы имя было уникальным.
* Использовать существующий файл.

## Справочно: Типы полей и их настройки

Тип поля: `datetime`\
Плагин: Date\
Настройка: Результирующий формат даты. В большинстве случаев  менять настройку данного поля  не требуется. Если такая необходимость возникает, задаётся в формате, детально описанном здесь https://www.php.net/manual/datetime.format.php#refsect1-datetime.format-parameters


Тип поля: file\
Плагин: Download and Create File\
Настройка: Поведение, если файл в системе уже существует. Заменить файл на новый, переименовать новый файл, чтобы имя стало уникальным, либо использовать уже существующий файл, новый - игнорировать.


Тип поля: `entity_reference`\
Плагин: New entity\
Настройки: нет.\
Плагин: Existing entity\
Настройки:
- Имя поля (машинное имя поля), по которому искать существующую связанную сущность.
- Ignore case - игнорировать регистр букв (заглавные или нет)
Плагин: ProjectLookup\
Настройки: Окружение - машинное название поля, из которого берется название окружения запуска роботов.\
Плагин: schedule_lookup\
Настройки: нет.


Типы поля: `integer`, `decimal`, `float`\
Плагин: Number\
Настройки: нет.


Типы поля: `string`, `string_long`, `text_with_summary`\
Плагин: Text\
Настройки: нет.


Тип поля: `workflow`\
Плагин: Workflow\
Настройки: нет.


Тип поля: `formula`\
Плагин: Formula\
Настройки: нет


