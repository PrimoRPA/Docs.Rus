# Настройка Cron

Cron – это утилита, позволяющая выполнять скрипты на сервере в назначенное время с заранее определенной периодичностью.

В Idea Hub возможности Cron используются для управления графиком запуска скриптов, импортирующих данные из Оркестратора. Данные скрипты необходимо запускать несколько раз в сутки, с периодичностью, например, раз в час. Это можно настроить с помощью Cron.

В общем случае, управлять Cron можно с помощью команды 'crontab'. Команда `crontab -e`, введенная в командной строке, автоматически запустит текстовый редактор и загрузит в него файл конфигурации Cron. После выхода из редактора, новая конфигурация Cron будет установлена (вступит в силу) автоматически.

Вы можете использовать следующую последовательность команд:
```
* * * * * cd /var/www/ideahub && vendor/bin/drush cron >/dev/null
```
Вместо звездочек вставьте нужные значения в соответствии с инструкцией ниже:

Шаблон **cron-строки** состоит из 5 полей, разделенных пробелом, и имеет вид: `* * * * *`, где:
   
  1) * - минуты (0-59). Разрешенные символы: , - * /
   2) * - часы (0-23). Разрешенные символы: , - * /
   3) * - день месяца (1-31). Разрешенные символы: , - * ? / L W
   4) * - месяц (1-12). Разрешенные символы: , - * /
   5) * - день недели (1-7 или SUN-SAT). Разрешенные символы: , - * ? / L #

Значение полей может быть либо одним из разрешенных символов, либо списком элементов, разделенных запятыми. Элемент является либо числовым, либо диапазоном чисел, обозначенным двумя значениями, разделенными тире (например, 10-12). 

**Пример заполнения**: 

`0 12 * * ?` - задание будет запускаться каждый день с полудня.

**Примечания**:

* Если в одном из полей установлен символ `*`, то будет использоваться каждое возможное значение этого поля. Например, если в поле **Минуты** установлена `*`, то задание будет запускаться каждую минуту.

* Установка знака `?` допускается для полей **День месяца** или **День недели**. Он означает, что в поле **Нет конкретного значения**. Знак полезен в том случае, когда нужно указать значение только в одном из двух полей.

* Символ `/` используется для указания приращения значений. Например, если указать `0/15` в поле **Минуты**, это означает, что задание будет запускаться **каждые 15 минут, начиная с нулевой минуты**. Если указать `3/20`, то запуск будет производиться **каждые 20 минут в течение часа, начиная с третьей минуты**.

* Дополнительную информацию о работе с Cron можно найти в ресурсах сети Интернет, например, [здесь](https://help.ubuntu.ru/wiki/cron).

* Для удобства можно воспользоваться [генератором cron-выражений](https://crontab.cronhub.io).


