# Управление доступом

Управление доступом в Idea Hub реализовано с помощью:
* Прав доступа.
* Разрешений.

Для настройки доступа к объектам, полям процесса и терминам таксономии рекомендуется использовать правила. В ближайшем будущем, вероятно ещё и для настройки доступа к профилям пользователя и их полям (но пока этого нет). Для всего остального - права. 

Как это работает:
* если доступ к сущности разрешен хотя бы в одном месте (правах или разрешениях), то доступ будет;
* если доступ запрещен в обоих местах, то доступа не будет.

По умолчанию авторизованный пользователь имеет все права на ноды и термины таксономий. В текущем состоянии: чтение + создание + изменение + редактирование.  Пока предлагаем после установки зайти и настроить вручную.

## Управление правами доступа

### Настройка прав доступа

1. В административном меню выберите **Пользователи** и перейдите на вкладу **Роли**.
1. В строке с нужной ролью нажмите стрелочку вниз, которая находится справа от действия **Изменить**.
1. В выпадающем списке выберите **Редактировать права доступа**. Откроется страница **Редактирование роли** — здесь вы можете посмотреть все права доступа данной роли.
1. Отметьте те права доступа, которые вы хотите установить для роли.

   ![](<../../../idea-hub/resources/admin/users/permissions-role.png>)
  
1. Внизу страницы нажмите **Сохранить права доступа**.

### Массовая настройка прав доступа 

Правами доступа можно управлять в разрезе определенной роли или массово для всех существующих ролей. Ниже приведена инструкция по массовому редактированию прав доступа.

1. В административном меню выберите **Пользователи** и перейдите на вкладку **Права доступа**.
1. На странице будет перечень всех возможных прав доступа, которые разграничены по модулям. Отдельные права доступа имеют предупреждения, связанные с безопасностью. 

   ![](<../../../idea-hub/resources/admin/users/permissions-tab.png>)

1. В верхней части страницы перечислены имеющиеся роли в Idea Hub. Для того, чтобы назначить определенной роли право доступа, отметьте его галочкой.
1. Внизу страницы нажмите **Сохранить права доступа**, чтобы изменения применились.



## Управление разрешениями 
Разрешения определяют допустимые операции:
* С объектами Idea Hub. 
* С полями процесса.
* Со словарём таксономии.

По умолчанию просматривать и настраивать разрешения для определённых ролей может только пользователь с ролью **Администратор**. 

Чтобы указать дополнительные роли, которым будут доступны эти права:
1. В административном меню выберите **Пользователи** и перейдите на вкладку **Права доступа**.
1. Установите выбранным ролям права: 
   * `View Primo Access Rules form` — доступен просмотр формы правил доступа Primo;
   * `Edit Primo Access Rules form` — доступно редактирование формы правил доступа Primo.
1. Нажмите **Сохранить права доступа**.


### Допустимые операции с объектом
Объектами являются: процесс, проект, очередь, робот, машина, лицензия, дашборд.
* Создание;
* Редактирование любых объектов соответствующего типа;
* Редактирование собственных объектов соответствующего типа;
* Удаление любых объектов соответствующего типа;
* Удаление собственных объектов соответствующего типа;
* Просмотр редакций (*истории правок*) объекта;
* Удаление редакций объекта;
* Восстановление редакций объекта.

Реализовано по отношению к ролям.

### Допустимые операции со словарём таксономии
* Добавить термины
* Удалять термины
* Редактировать термины

Реализовано по отношению к ролям.

### Допустимые операции с полями процесса
Видимость и доступы поля:
* Не установлено. Поле наследует разрешения контента.
* Скрытое. Только автор и администраторы могут видеть и редактировать.
* Пользовательские разрешения. Определить пользовательские разрешения для данного поля.
* Пользовательские разрешения PRIMO. Определить пользовательские разрешения для данного поля:
  * Изменить значение поля
  * Просмотр значения поля
  * Просмотр значения поля по отделу - ??? 






