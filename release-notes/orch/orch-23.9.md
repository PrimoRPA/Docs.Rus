# Оркестратор 23.9

Примечания к выпуску Оркестратора 23.9 описывают изменения для версии приложения, выпущенной в сентябре 2023 года.

### Новые функции и улучшения
1. Осуществлена миграция Оркестратора с Core 3.1 на платформу .NET 7. Главным преимуществом .NET 7 является повышенная производительность.
1. Для IIS добавлена настройка видеотрансляции RDP-сессии робота. Ранее такая возможность существовала только для Nginx.
1. В ресурсах Оркестратора добавился новый тип данных - JObject. Он позволяет записывать в переменную JSON-данные. 
1. В [настройках пользователя](https://docs.primo-rpa.ru/primo-rpa/orchestrator/settings/users/orch-users) добавлен новый тип события - «Срок действия лицензии истекает». При подписке на него пользователь станет получать соответствующие оповещения на электронную почту. Срок отправки оповещений, в том числе повторных, настраивается в конфигурационном файле службы States в секции **LicenseExpired**. 
1. В конфигурационный файл Оркестратора добавлена настройка, позволяющая ограничивать минимально допустимую версию Студии при ее подключении к Оркестратору. Параметр имеет название **MinimumStudioVersion** и размещен в секции **StudioVersionChecker**. В настройке также возможно задать тип поведения Студии в случае, если версия окажется меньше указанной. Функциональность предназначена помочь пользователям своевременно обновлять версии приложений.
1. Для элементов очереди улучшена проверка уникальности натурального ключа. Теперь возможно указать, нужно ли при проверке учитывать ключи удаленных элементов. Настройки прописываются в конфигурационном файле Оркестратора в секции ExchangeQueue: 
   * **DeletedNaturalKeysIsGlobalUniqueRequired** - параметр для натуральных ключей с глобальным типом уникальности. Если установлено **true** – удаленный элемент не будет участвовать в проверке. 
   * **DeletedNaturalKeysIsUniqueRequired** - параметр для  для натуральных ключей с локальным типом уникальности (внутри определенной очереди). Если установлено **true** – удаленный элемент не будет участвовать в проверке. 
1. Количество допустимых символов в названии расписания увеличено с 20-ти до 250-ти. 

### Исправленные ошибки
1. Оптимизирована работа журнала робота. В целях улучшения было добавлено:
   * кратковременное кэширование для запроса операций робота;
   * долговременное кэширование для событий завершенной операции робота.
   
   Таким образом, при частом обновлении страницы с операциями робота (одним пользователем или сразу несколькими), в ответ вернется результат из кэша без отправки запроса в БД. 
1. Исправлена ошибка, из-за которой не получалось запустить сразу несколько роботов по триггеру «Запуск из другого робота». 
1. Исправлена ошибка, связанная с настройками роли для AD-пользователей. При попытке изменить группы AD в настройках роли, новое значение не сохранялось. 
1. При попытке вручную запустить робот с проектом возникала ошибка доступа, хотя у пользователя имелись соответствующие права. Ошибка исправлена. Теперь, если в настройках роли включены права на управление роботами и проектами, запуск робота с проектом выполнится корректно.
1. При нажатии в UI Оркестратора кнопки «Попросить остановиться» робот не останавливался. Проблема воспроизводилась при использовании конфигурации MSSQL + IIS. Ошибка исправлена.
1. В UI исправлен некорректный порядок сортировки в таблице «RPA-проекты». Не работала сортировка по двум и более столбцам.


### Где скачать
1. [Комплект поставки Оркестратора 23.9:](https://disk.primo-rpa.ru/index.php/s/primo?path=%2FRelease%2FOrchestrator)
    * **Primo RPA Orchestrator 23.9.0 FULL.zip** - полный комплект поставки, в который входят дистрибутивы Оркестратора и внешних компонентов: например, базы данных PostgreSQL Server, брокера сообщений RabbitMQ и др. Вес дистрибутива ~ 3,5 Гб.
    * **Primo RPA Orchestrator 23.9.0.zip** - облегченный вариант поставки, весит ~ 1,1 Гб.

2. [Дистрибутив Robot Enterprise 23.9](https://disk.primo-rpa.ru/index.php/s/primo?path=%2FRelease%2FRobot). Архив должен иметь название **Primo RPA Robot Orchestrator <архитектура> 23.9.0.zip**. Дистрибутив этого робота загружается непосредственно в Оркестратор.


