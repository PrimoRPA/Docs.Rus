# Обновления в версии Оркестратора 2.2.20.0

## Новые функции:

1. В разделе лицензий появился тип лицензий **Робот (Desktop)**. Данный вид роботов, называемый также Attended-Роботами, обладает той же функциональностью, что и Роботы Enterprise (или Unattended-Роботы), но они должны быть установлены на рабочем месте пользователя и фактически работают с локальной станцией. Внешняя поддержка Рабочего стола для них недоступна. 
1. Добавлено кэширование проекта на машине Робота, что позволяет при повторном запуске проекта выполнять его быстрее. 
1. Добавлено удаление архива проекта из базы данных в случае его замены при редактировании RPA-проекта в Оркестраторе.
1. Добавлена возможность редактирования расписаний, которые уже используются в [заданиях](https://docs.primo-rpa.ru/primo-rpa/orchestrator/basics/tasks).
1. В журнале Робота выполнены следующие улучшения:
    - Добавлены столбцы **RPA-Проект**, **Задание**, отображающие наименования проекта/задания.
    - В разделе событий появилось поле **ExtDataJson**, доступное при просмотре подробностей конкретного события. Оно содержит дополнительную информацию в формате JSON, связанную с обработкой исключений.
1. Выполнена оптимизация приема логов Робота Оркестратора. В лог-файл добавлены поля: RobotName, ProjectName, WorkerName, RdpUserName.
1. В разделе создания Очереди обмена данными добавлен флаг **Зашифрована** (Encrypted). Он определяет, будут ли элементы очереди храниться в БД в зашифрованном виде. По умолчанию элементы не шифруются.
1. В разделе Очередей обмена данными выполнены следующие улучшения:
    - Добавлен фильтр **Не удаленные** (NotRemoved), который позволяет включать или не включать в выборку элементы очереди, помеченные как удаленные.
    - Под разделом фильтра добавлен вывод количества элементов, существующих в очереди всего, и отдельно - количество элементов, запрошенных с фильтром. 
1. Улучшена логика получения [элементов очереди по фильтру](https://docs.primo-rpa.ru/primo-rpa/g_elements/osnovnye-elementy/orkestrator/els_queues/peekqueuefilter). При чтении элементов с настройкой **Занимать** (Chek-out) всегда будет отдаваться первая страница.
1. В разделе **Роботы** в столбце **Статус** улучшена работа трекинга запуска. Теперь при сообщении Роботом о своем старте будет выполняться очистка трекинга.


## Исправленные ошибки

- Исправлена ошибка в поиске подходящих Роботов в случае, когда все Роботы привязаны к проектам и в настройках [стратегии очереди RPA-проектов](https://docs.primo-rpa.ru/primo-rpa/orchestrator/settings/projects-queue) разрешено использование как привязанных, так и непривязанных Роботов. 
- Исправлена ошибка в журнале Робота Оркестратора, связанная с неверным подсчетом количества записей.
