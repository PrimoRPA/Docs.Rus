# Idea Hub 25.4

Список изменений для версии 25.4, выпущенной в апреле 2025-го года.


### Импорт данных из Оркестратора без скрипта get_data

Теперь вы можете импортировать данные из БД Оркестратора без использования скрипта **get_data**. Для реализации этой возможности был добавлен новый тип источника импорта — `SQL`. Выбрать данный источник возможно на странице [настроек контура](https://docs.primo-rpa.ru/ru/idea-hub/installation/initial-setup/environments), в параметрах импортёра Primo RPA Global.

В результате выполненых настроек Idea Hub будет самостоятельно обращаться в БД Оркестратора по времени, настроенному в cron, и забирать актуальные данные. Настраивать скрипт `get_data.sh` или `get_data.ps1` в этом случае не нужно.

![](<../../release-notes/resources/idea-hub/25-4/sql-importer.png>)


### Правила доступа к данным

Для гибкого управления доступом разработали специальные *правила доступа*, которые позволяют разграничить:
* Доступ к объектам (процесс, проект, очередь, робот, машина, лицензия, дашборд) и их полям. 
* Доступ к терминам словаря таксономии и их полям.

С помощью правил вы можете определить, какие операции разрешены для пользователей. Например: чтение, создание, обновление, удаление.

**Типы правил:**
* **Роль** — доступ предоставляется пользователям с определённой ролью. Например, *Авторизованный пользователь*.
* **Пользователь** — доступ предоставляется выбранному пользователю.
* **То же значение** — доступ предоставляется тем пользователям, у которых значение выбранного поля из учётной записи совпадает со значением выбранного поля у объекта/термина/поля. 
* **Термин таксономии, выбранный для пользователя** — доступ к определённому термину таксономии предоставляется пользователям, у которых этот термин указан в поле учётной записи.

Вы можете настроить несколько правил доступа для каждой операции. В этом случае доступ будет предоставлен пользователям, соответствующим хотя бы одному правилу.

### Автоматический перенос полей идеи в будущий процесс

Появилась возможность настраивать, значения каких полей требуется автоматически переносить из идеи в созданный процесс.

По умолчанию, из идеи в соответствующий процесс переносятся только значения следующих полей:
* `title` ​— название процесса;
* `body` ​— описание процесса;
* `field_area` ​— департамент, к которому относится процесс;
* `field_systems` ​— программные системы, задействованные в процессе.

Теперь вы можете выполнить предварительную настройку полей идеи таким образом, чтобы все нужные вам значения переносились в будущий процесс. Настройки выполняются в административном меню согласно [данной инструкции](https://github.com/PrimoRPA/Docs.Rus/blob/2266-%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B2-%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D0%B8-%D0%B4%D0%BB%D1%8F-%D1%80%D0%B5%D0%BB%D0%B8%D0%B7%D0%B0-ih-254/idea-hub/admin/structure/webform.md).

### Настройка статусов процесса для подключения к Оркестратору

По умолчанию к Оркестратору могут быть подключены только процессы со статусами **Эксплуатация** и **Остановлен**. Статус подключения отображается в карточке процесса в поле **Оркестратор подключён**.

В том случае, если вы изменили стандартный набор статусов процесса, то соответствующие изменения потребуется внести и для этого поля, чтобы подключение процессов к Оркестратору производилось и отображалось корректно. С этой версии появилась возможность указать набор собственных статусов для поля **Оркестратор подключён**, для этого:
1. Откройте для редактирования конфигурационный файл Idea Hub `settings.EXAMPLE.php`.
1. Измените строки: 
   ```
   * В качестве значения укажите полный идентификатор статуса.
   $config['primo_process.settings']['production_statuses'] = 'process_6_production';
   $config['primo_process.settings']['stopped_statuses'] = 'process_7_stopped';
   ```
   
Текущие статусы и идентификаторы процессов возможно просмотреть в разделе административного меню **Конфигурация > Рабочий процесс > Рабочий процесс**, применив действие **Изменить** для строки process. Для просмотра статусов перейдите на вкладку **Статусы**.


### Улучшенная форма создания пользователя

Упростили форму создания/редактирования пользователя, убрав неиспользуемые параметры и изменив внешний вид страницы. Теперь все параметры представлены на одной странице без группировки по вкладкам.

## Исправленные ошибки

1. Исправлена ошибка, из-за которой библиотека панелей, необходимая для работы дашбордов, поддерживала только русский язык. Теперь вы можете импортировать русские или английские панели, в зависимости от языка по умолчанию.
1. Исправлена ошибка с импортом поля **human_duration** для файла `process.xlsx`. Из шаблона файла удалено устаревшее поле **duration**.
1. Исправлена ошибка, из-за которой открытие главной страницы могло завершаться ошибкой.
1. Решена проблема, из-за которой некоторые десятичные числа могли вызывать ошибку, хотя являлись допустимыми.
1. Исправили описание функции find в справочной документации, которая отображается веб-интерфейсе. 


## Дистрибутив
Idea Hub 25.4 доступен по [ссылке](https://disk.primo-rpa.ru/index.php/s/t9BHBjR6PP06Yax?path=%2FRelease%2FIdeaHub):
* `idea-hub.install.25.4.0.linux.tar` — архив для установки с Idea Hub нуля;
* `idea-hub.update.25.4.0.linux.tar` — архив для обновления Idea Hub.
