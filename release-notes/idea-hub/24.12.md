# Idea Hub 24.12

История изменений в Primo RPA Idea Hub за декабрь 2024-го года.

1. В ИХ теперь можно собирать данные из разных источников данных. Это могут быть и журналы процессов (не обя-но в Орке, можно и из внешней БД), это и метаданные из очередй, и сами очереди, и можно к одному процессу привязывать много очередй.
1. Раньше все эффекты рассчитывались по определенным формулам. Теперь доработка позволяет делать исторчиески серии данных, которая позволяет указывать, мол, в этом году зп были такие, в этом другие, и за счет этого можем получать намного более точное моделирование. Подсчет данных, которые изменяются со временем. В связи с этим мы доработали механизм формул



## Обновления

### Дашборды

Обновили дашборд на главной странице и добавили возможность создавать собственные дашборды:
* Теперь на странице **Дашборды** вы можете создавать собственные информационные панели в произвольном количестве. При создании дашборда вам будет доступен набор предзаданных панелей и возможность их гибкой настройки. 
* Метрики стали отображаться в более понятном и приятном виде. Вы можете изменить иконки, текст, цвет для каждой метрики без привлечения разработчиков Idea Hub. 

![](<../../release-notes/resources/idea-hub/main-dashboard.png>)


### Процессы

Обновили карточки бизнес-процессов на странице **Процессы**. Каждая карточка теперь содержит такие основные показатели, как:
- Департамент, который владеет процессом.
- Системы, которые участвуют в автоматизации процесса.
- Текущий статус процесса.
- Оркестратор подключен — показывает, собирается ли из Оркестратора статистика.

Под каждой карточкой также отображаются показатели ключевых эффектов: плановый FTE, фактический FTE, утилизация лицензий и неавтоматизируемый человеческий труд.

![](<../../release-notes/resources/idea-hub/processes-cards.png>)

При выборе карточки отобразится детализированная информация по процессу. Панели с данными возможно менять местами, редактировать, удалять.

![](<../../release-notes/resources/idea-hub/process-card-details.png>)


### Ежедневный сбор статистики

Стали ежедневно собирать статистику запусков проектов и обработки очередей. Новый механизм сбора статистики позволяет более гибко и точно рассчитывать эффекты от автоматизации:
* Теперь вы можете просмотреть эффект в разрезе любого дня или периода, поскольку вся статистика датируется.
* Стало возможным не учитывать в статистике периоды тестовых запусков.
* Если статистику за какой-то день не удалось собрать планово, она добавится, как только это станет возможным во избежание потери данных.


### Статистика с несколькими очередями или проектами

Теперь вы можете объединять в одном процессе статистику по нескольким проектам или очередям Оркестратора. Для этого в рассчитанных эффектах процесса появились поля, где можно ввести формулу с указанием всех необходимых очередей/проектов, по которым следует суммировать показатели в статистике.

Это поля со следующими машинными именами:
* **field_ops_total** — формула для показателя *Всего выполнено операций*.  
* **field_ops_success** — формула для показателя *Всего успешно выполнено операций*.
* **field_ops_error** — формула для показателя *Business errors*, где выводится количество бизнес-ошибок.
* **field_ops_exception** — формула для показателя *Application errors*, где выводится количество исключений.
* **Ops_avg_duration** — формула для показателя *Среднее время длительности операций*.

В данных полях вы можете обращаться как к очередям, так и к проектам. По умолчанию статистика выводится по первой привязанной к процессу очереди/проекту. В случае, если к процессу привязаны и очереди, и проекты, то в дашборде можно выбрать, какие данные требуется выводить в статистику — из очередей или из проектов. 


### Упрощенные формулы

Сделали работу с формулами понятнее и удобнее:
* Добавили поддержку переменных в полях формул. Теперь вы можете задать переменные, которые хотите использовать в расчетах. Использование переменных упрощает написание сложных формул и повышает их читаемость. Для объявления переменных используйте синтаксис YAML.
* Добавили возможность оставлять комментарии, чтобы упростить понимание и поддержку сложных формул. Комментарии проигнорируются при выполнении формулы, но останутся видимыми для всех, кто с ней работает. Для комментариев используется синтаксис `//Комментарий к формуле`.
* Ускорили вычисление формул. 

![](<../../release-notes/resources/idea-hub/vars-in-formula.png>)


### Улучшенное взаимодействие с Primo RPA Orchestrator 

Добавили предупреждение о создании в Оркестраторе проекта с именем, которое уже используется в процессе Idea Hub. Новая функция позволит избежать некорректных данных за счет возможности принимать обоснованные решения по управлению статистикой. Теперь вы можете самостоятельно определить, следует ли объединять данные по одноименным проектам в одном процессе или создать для их учета новый процесс.

Кроме того, теперь мы перестали учитывать в статистике запусков данные по версиям проекта — вместо этого отображаются общие данные по всем версиям.


### Экспорт данных в Excel

1. 26204 Некст - мы теперь можем выгрузить статистику по очередям и проектам (стата запусков) в файл Excel за определенный период времени. Период - это фильтр: либо произвольные дата начала/дата окончания, либо выбрать период (например, квартал, календарный месяц и тд). 

посмотреть задачу, выцепить что-нибудь полезное.


1. Добавлена возможность выгружать процессы в Excel. Функция может быть полезна для формирования соответствующих отчетов в организации. (ОМК)


### Настройка доступа к полям процесса

1. Добавлена возможность управлять доступом к полям процесса. **Какие разрешения появились, подробнее расписать, как настраиваются** https://azure-dos.s1.primo1.orch/PrimoCollection/IdeaHub/_workitems/edit/25778

Права доступа к процессам по департаментам
25856
25717


частично сделали:


можно настроить процессы таким образом чтобы определенные поля показывались только определенным ролям. Ролевая модель доступа.


заходим в процесс, настраиваем для каждого поля разрешения.

![](<../../release-notes/resources/idea-hub/permissions-for-field.png>)


### Управление отображением числовых значений

1. Для числовых полей появилась настройка, которая позволяет управлять отображением значений. Теперь вы можете установить конкретное число, начиная от которого значения необходимо автоматически сворачивать. Ранее значения автоматически сворачивалась, если сумма в поле была больше миллиона. Благодаря новой функции, вы можете снизить этот порог.   https://azure-dos.s1.primo1.orch/PrimoCollection/IdeaHub/_workitems/edit/25747






## Исправленные ошибки

1. Исправлена ошибка, из-за которой не обновлялась иконка пользователя в меню. Ранее иконка корректно обновлялась только у администратора. 
1. Исправлена ошибка в миграции, из-за которой департаменты не обновлялись корректно. 
1. Исправлена ошибка, из-за которой экспорт процессов завершался ошибкой при отсутствии департамента, привязанного к процессу. 
1. Исправлена ошибка, из-за которой не работал поиск в английской версии сайта.
1. Решена проблема, из-за которой на странице очередей не работали региональные настройки. 


