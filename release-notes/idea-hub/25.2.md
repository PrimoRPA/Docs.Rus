# Idea Hub 25.2

Список изменений для версии 25.2, выпущенной в феврале 2025-го года.

Информацию по обновленным релизам версии  можно найти в статьях:

[Idea Hub 25.2.3](https://docs.primo-rpa.ru/primo-rpa/release-notes/idea-hub/25.2.3)

## Новые функции и улучшения

1. Упростили работу с формулами, добавив подсказки:
   * Теперь при вводе формулы в пустом поле будет отображаться подсказка, с каких ключевых слов можно начать:
  
     ![](<../../release-notes/resources/idea-hub/1-input.png>)
   
   * После ввода любого ключевого слова отобразится подсказка со списком доступных методов. Пример для слова process:
  
     ![](<../../release-notes/resources/idea-hub/2-input.png>)
     
   * Если вы ввели название метода с круглыми скобками, то появится документация по этому методу:

     ![](<../../release-notes/resources/idea-hub/4-input.png>)

1. Добавили метод `process_key.extract_param(param_name, dependecies_field)`, который используется только для конкретного процесса. Метод позволяет получить доступ к параметру расчёта, который зависит от настройки конкретного процесса.
   
     Рассмотрим пример формулы для процесса с ключом 1212:
     ```
     process['process#1212'].extract_param('SALARY', 'field_org')

     //Если формула прописывается в разделе редактирования конкретного процесса:
     this.extract_param('SALARY', 'field_org')
     ```
     В примере выше значение параметра SALARY зависит от поля процесса field_org. В результате метод соединит через нижнее подчеркивание имя параметра SALARY со значением (в верхнем регистре) из поля field_org. Система получит новое имя параметра и вернёт его значение, если такой параметр существует. 

1. Для параметров расчёта появилась возможность указывать значения, которые зависят от текущей даты. Теперь, если для параметра требуется указать разные значения для разных дат, то формула параметра будет иметь вид:
   ```
   {
   "2024-01-01": 150000,
   "2025-01-01": 170000
   }
   ```

   В этой формуле:
   * Даты должны быть указаны в формате "ГГГГ-ММ-ДД".
   * После каждой записи следует ставить запятую, кроме последней строки в списке.
   * Если значения — это числа, то их не нужно заключать в кавычки.
   * Если значения — строки, то их нужно заключать в кавычки.
1. Чтобы упростить понимание текущих формул, добавили новые параметры расчёта:
   * DAYS_IN_MONTH — количество дней в среднем месяце. Значение параметра: `365/12`.
   * SECONDS_IN_MINUTE — количество секунд в одной минуте. Значение параметра: `60`.
   * MINUTES_IN_DAY — количество минут в сутках. Значение параметра: `1440`.
1. Добавили форматтер **Интервал (время)**, с помощью которого администратор может управлять отображением значений в числовых полях и формулах. В настройках форматирования времени можно выбрать:
   * единицу измерения — например, секунда, минута, час.
   * точность округления — интервал, до которого происходит округление, например, до ближайших минут или часов.
   * минимальное значение результата в секундах — значение по умолчанию `60`.
   * формат интервала — длинный (5 дней 2 часа 1 минута) или короткий (5 дней 02:01:00).
1. Упростили настройки импорта данных для контура. Теперь, если администратор выбрал источник Primo RPA Global, а в качестве данных — **Лицензии**, то дополнительно выбирать пункт **Типы лицензий** больше не нужно.
1. Улучшили отображение ошибок на странице административного меню **Отчёты > Отчёт о состоянии**. Теперь вы можете быстро просмотреть все сообщения, связанные с отсутствием каталогов или неправильно настроенными правами, которые требуются для работы каталогов Idea Hub.



## Исправленные ошибки

1. Поле **Системы** (field_systems) перестало быть обязательным для заполнения как при ручном редактировании процесса, так и при импорте из файла `process.xlsx`. 
1. Исправили некорректное использование терминов. Теперь поле `ops_error` означает количество технических ошибок приложения, а поле `ops_exception` — количество ошибок связанных с бизнес-исключениями. Формулы, в которых используются эти данные, обновились. Формулы обновляются в том числе во всех заведённых в Idea Hub процессах за всю историю использования. Процесс обновления, в зависимости от количества данных, может занять длительное время, вплоть до нескольких часов. Перед выполнение необходимо, чтобы отработал Cron. На время обновлениях **обязательно** следует отключить обновление данных и все связанные с Idea Hub cron-команды.
1. Изменили порядок создания бэкапов импортируемых данных из Оркестратора. Сначала импортируются данные, после этого сразу создаётся бэкап-архив с полученными данными. Ранее бэкап предыдущих данных создавался перед новым импортом, сразу после запуска команды получения данных из Оркестратора.  
1. Исправили ошибку, когда на странице конкретной машины отображались все роботы. Сейчас отображаются только роботы, связанные с этой машиной. 
1. Исправили ошибку округления значений, возникавшую во время импорта данных. Теперь значения среднего времени работы элемента очереди/проекта/робота округляются в большую сторону. Ранее, в некоторых случаях, время могло стать равным 0. 
1. Исправили некорректное поведение иконок на странице **Департаменты**. Ошибка возникала в случаях, когда пользователь не выбирал иконку для конкретного департамента. Теперь в подобной ситуации будет отображаться иконка по умолчанию.
1. На странице конкретной очереди/проекта/робота исправили некорректное отображение общего количества запусков в таблице.
1. На странице конкретной очереди/проекта исправили сортировку по умолчанию для таблицы со статистикой.
1. Для русскоязычной версии Idea Hub добавили переводы нескольких полей в пользовательском интерфейсе, в частности, для полей процесса.


## Где найти

Скачать дистрибутив Primo RPA Idea Hub можно по [ссылке](https://disk.primo-rpa.ru/index.php/s/t9BHBjR6PP06Yax?path=%2FRelease%2FIdeaHub).
