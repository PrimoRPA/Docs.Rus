# AI Server 1.25.4

Список изменений для версии 1.25.4, выпущенной в апреле 2025-го года.


## Новые функции и улучшения

### Умный OCR: Поддержка многостраничного файла документа

Стала доступна обработка многостраничных документов в форматах PDF и TIFF. Функциональность упрощает работу с большим объемом данных и минимизирует ручной труд при подготовке RPA-проектов. 

Многостраничные файлы документов поддерживаются в запросах инференса, а также на странице **Тестирование** в веб-интерфейсе AI Server. Результат классификации/распознавания будет разбит по страницам.
  
**Важно**: многостраничные документы не поддерживаются в датасетах для обучения моделей.

![](<../../release-notes/resources/ai-server/1-25-4/testingresults-manypagespdf.png>)
     
1. Добавили возможность автоматически поворачивать изображение на странице **Тестирование**.


### AI Текст: Возможность распознавать текст с изображения документа

Расширили набор LLM-моделей в поставке AI Server. Теперь вам доступна **мультимодальная модель**, которая умеет работать как с текстовой информацией, так и с изображениями документов. 

Мультимодальной модели доступны все существующие навыки, а также дополнительный навык **OCR**, который служит для распознавания текста на изображении структурированного и неструктурированного документа. Допустимые форматы изображений: JPG, JPEG, PNG (ограничения по весу есть? спросить у Игоря).
* Чтобы использовать в проекте мультимодальную модель, требуется выбрать базовую модель `base-LLM-04 (Vllm, multimodal)`, движок Vllm и добавить модели навык OCR.
* В запросе для навыка OCR, помимо изображения, может быть указан текст. Например, при распознавании паспорта можно попросить модель найти значение определенного поля.
* распознавание рукописного текста (?)

![](<../../release-notes/resources/ai-server/1-25-4/ocr-skill.png>)

**Важно:** другие навыки не работают с изображениями.
  
1. Запуск LLM на CPU стал поддерживаться. А LLama стала запускаться на ГПУ (убрать в шаблонах модели, что не работает на гпу). Короче, теперь обе работают и на гпу, и на цпу. Кроме мультимодалки: она на ЦПУ не работает (?)
1. Переименовали тип проекта **С использованием LLM** в тип **AI Текст** в соответствии с названием программного компонента.
1. Добавлены логи DS-ядра, которые помогают отслеживать проблемы. Например, если на финальной стадии запуске процесса инференса произошла перегрузка https://azure-dos.s1.primo1.orch/PrimoCollection/AI/_boards/board/t/AI%20Team/Stories/?workitem=34513



## Исправленные ошибки 

1. Исправлены незначительные ошибки локализации в веб-интерфейсе на английском и русском языках. 
1. Исправлена ошибка, когда после создания проекта типа AI Текст и переключения на вкладку Настройки или Мониторинг в верхней панели меню, некорректно отображались веб-страницы.
1. Исправлена ошибка, из-за которой некорректно отображался размер загруженного шаблона модели на странице **Настройки > Шаблоны моделей**.
1. Процесс запуск LLM-модели на целевой машине стал стабильнее (поискать задачи!)
