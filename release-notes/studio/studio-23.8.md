# Primo Studio 23.8
Примечания к выпуску Студии 23.8 описывают изменения для версии приложения, выпущенной в августе 2023 года.

### Новые функции и улучшения

1. Улучшена производительность Робота при включенном логировании в консоль. Ранее включение логирования для Робота через Раннер/Оркестратор замедляло скорость выполнения процессов. Теперь эти процессы стали выполняться значительно быстрее.
1. Улучшена работа элемента [Получить значение](https://docs.primo-rpa.ru/primo-rpa/g_elements/el_basic/els_orch/els_assets/el_orch_getvalue), который считывает ресурс Оркестратора. В свойстве **Результат** стало возможным указывать переменную с типом данных System.Object, таким образом, не сопоставляя ее вручную с типом данных ресурса. 
1. На панели элемента [C# Script](https://docs.primo-rpa.ru/primo-rpa/g_elements/el_basic/els_prog/el_prog_cs) появилась область для быстрого просмотра кода. Двойной клик по области открывает редактор кода. Улучшение призвано упростить и ускорить процесс разработки.

\\\ 883 (проверить в новой студии, чтобы правильно слова подобрать и ДОБАВИТЬ В ДОКУ) - 
Если указано одновременно "Выражение" и "Сценарий", то выполняется "Выражение". "Сценарий" будет проигнорирован. Код можно увидеть так же в ToolTip-е при наведении на активность. Во время отладки появление ToolTip отключено. Перемотка в окне активности. Полоса прокрутки появляется автоматически, если содержимое не помещается в видимую область.
 Double Click по активности отображает окно редактирования кода. В режиме отладки эта функциональность недоступна.
в элементах, работающих с кодом, в окне элемента отображается активный код. При наведении курсора на элемент появляется всплывающая подсказка с кодом. 


### Исправленные ошибки

1. Исправлена утечка памяти при повторном открытии вкладок с процессами. Теперь, если закрыть в Студии вкладку, освободится оперативная память. Ранее, из-за утечки, процесс Primo.Studio.exe мог занимать значительный объем памяти. 
1. Улучшена стабильность работы Студии в режиме отладки. Устранено зависание окна консоли Студии (Настройки > Общие > Отладчик > Отображать окно консоли) при его перемещении либо изменении размера окна. 
1. Выполнение роботом браузерных элементов с включенным **Строгим таймаутом** в некоторых ситуациях приводило к аварийному завершению процессов. Ошибка исправлена.
1. При вставке в процесс скопированного элемента фокус оставался на предыдущем компоненте. Теперь при одиночном/множественном копировании фокус будет автоматически перемещаться на вставленные элементы.
1. Улучшена автоматическая проверка переменных процесса (Настройки > Общие > Отладчик > Проверять синтаксис):
   * Отсутствовал индикатор предупреждения ⚠️ на элементе, в котором указана несуществующая переменная. Теперь значок будет отображаться.
   * При копировании элемента в другой процесс не появлялся индикатор ⚠️ , предупреждающий об отсутствии скопированной переменной в текущем процессе. Исправлено.
1. В элементах программирования (C# Script, JavaScript и др.) наблюдалась некорректная проверка синтаксиса кода для свойства **Сценарий**. Ошибка устранена, синтаксис сценариев в редакторе кода стал анализироваться корректно.
1. Исправлена ошибка при проверке подключения к Оркестратору (Настройки > Network > Оркестратор). Ранее, после указания любых данных для подключения, нажатие на кнопку **Проверка** выдавало только успешный результат. Сейчас проверка подключения производится корректно: в случае указания неверных данных отобразится окно с ошибкой.
1. Выполнение элементов **Событие завершения процесса** и **Событие запуска процесса** завершалось с ошибкой *Отказано в доступе* - для запуска требовались права администратора. Ошибка исправлена, запуск и отладка этих событий больше не требуют повышенных прав. 
1. При повторном открытии проекта с несколькими процессами наблюдалось несоответствие отображаемых аргументов текущему процессу. Ошибка воспроизводилась, если в предыдущем сеансе работы пользователь переключал вкладки процессов - в этом случае при повторном открытии отображались аргументы для последнего активного процесса. Ошибка исправлена.
1. Студия 23.7 аварийно завершала свою работу, если в процессах использовался элемент **Выполнить запрос (SQL Server)** из зависимости Primo.Database.SqlServer. Ошибка исправлена.
1. Исправлена ошибка, в результате которой не могла запуститься отладка процесса с элементом **Проверка выражения с оператором** и выбранным ядром робота v2.



1. 2735 - Устранена причина ошибки, из-за которой в подпроцессе после добавления нового элемента исчезал индикатор предупреждения об ошибке (⚠️). (https://dev.azure.com/primorpa/Primo/_workitems/edit/894 - речь идет только о подпроцессах и только в версии 23.7.2? в 23.7.1 этого не было?)
///процесс был хитрый. в диаграмме процесса стоял нестандартный тип скрипта - питон. поэтому когда переходили в подпроцесс тип скрипта должен быть такой же, а он выставлялся по умолчанию - с#. Соответственно, когда добавляли элемент, он и его переменные валидировались по с#. и все треугольники исчезали. сейчас синхронизировали - все подпроцессы стали иметь такой же тип скрипта, как и основной процесс. 
речь не только про диаграммы, но и про последовательности.


1. Закомментировать активности по (ПКМ). У элементов появилась команда контекстного меню "Закомментировать". и "раскомментировать". Добавлен элемент "Закомментировать" - это контейнер? Потом их можно "раскомментировать" (либо кликать по контейнеру, чтобы массово, либо по отдельному элементу). смысл - кусок сценария не будет выполняться (и при отладке, и при запуске).
Раньше был просто элемент закомм-ть, а сейчас можно по команде в контекстном это сделать. что удобнее. 

Сделать в контекстном меню (ПКМ) поле с добавлением закомментировать активности как это реализовано в UIpath.

Описание реализации: Функция "Закомментировать" позволяет отключить одну или несколько активностей в процессе. Процесс будет отрабатывать без закомментированной активности. Как включить: навести курсор на название активности в шапке, далее правая кнопка мыши, в выпадающем меню выбрать "Закомментировать активности". Для отключения следует подцепить рамку активности мышкой и вытащить ее из рамки "Закомментировать".

Если проект с закомментированной активностью был сохранен, убрать рамку "Закомментировать" можно только перетаскиванием активности из рамки "Закомментировать".  - проверить

Важно: иногда удаление элемента внутри рамки "Закомментировать" либо рамки "Закомментировать" вместе с элементом приводит к зависанию студии.

Пункт "закомментировать" появляется в меню для элементов, кроме элемента "комментарий"
Для элемента комментарий вместо него элемент "раскомментировать", который удаляет комментарий и переносит в последовательность его содержимое













